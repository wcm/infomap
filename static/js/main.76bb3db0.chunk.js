(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){},140:function(e,t,a){e.exports=a(287)},145:function(e,t,a){},153:function(e,t,a){},217:function(e,t,a){},225:function(e,t){},227:function(e,t){},279:function(e,t,a){},284:function(e,t,a){},287:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(52),c=a.n(i),o=a(293),r=a(151);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(5),d=a(4),p=a(8),h=a(6),m=a(7),u=a(148),v=a(289),f=(a(145),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"navbar-wrapper"},s.a.createElement("div",{className:"navbar-logo"},s.a.createElement(u.a,{to:"/infomap/"},s.a.createElement("img",{style:{height:40},src:"/infomap/image/logo.svg",alt:"Infomap Logo"}))),s.a.createElement("div",{className:"navbar-tabs"},s.a.createElement(v.a,{className:"navbar-tabitem",activeClassName:"navbar-tabitem-active",to:"/infomap/demo"},"Demo"),s.a.createElement(v.a,{className:"navbar-tabitem",activeClassName:"navbar-tabitem-active",to:"/infomap/about"},"About"),s.a.createElement(v.a,{className:"navbar-tabitem",activeClassName:"navbar-tabitem-active",to:"/infomap/help"},"Help")))}}]),t}(s.a.Component)),g=(a(153),a(88)),b=a(61),y=a(135),E=a.n(y),w=a(292),O=a(40),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).updateWindowDimensions=function(){a.setState({width:.9*window.innerWidth})},a.updateXY=function(e,t,n){var s=n.deltaX,i=n.deltaY;"1"===e?a.props.x+s>=40&&a.props.x+s<=a.state.width/2-40&&a.props.y+i>=60&&a.props.y+i<=a.state.height/2-40&&a.props.setXY({x:a.props.x+s,y:a.props.y+i}):"2"===e?a.props.x-s>=40&&a.props.x-s<=a.state.width/2-40&&a.props.y+i>=60&&a.props.y+i<=a.state.height/2-40&&a.props.setXY({x:a.props.x-s,y:a.props.y+i}):"3"===e?a.props.x+s>=40&&a.props.x+s<=a.state.width/2-40&&a.props.y-i>=60&&a.props.y-i<=a.state.height/2-40&&a.props.setXY({x:a.props.x+s,y:a.props.y-i}):"4"===e&&a.props.x-s>=40&&a.props.x-s<=a.state.width/2-40&&a.props.y-i>=60&&a.props.y-i<=a.state.height/2-40&&a.props.setXY({x:a.props.x-s,y:a.props.y-i})},a.handleStart=function(e,t,n){var s=n.deltaX,i=n.deltaY;a.props.setDragging(!0),a.updateXY(e,t,{deltaX:s,deltaY:i})},a.handleStop=function(e,t,n){var s=n.deltaX,i=n.deltaY;a.props.setDragging(!1),a.updateXY(e,t,{deltaX:s,deltaY:i})},a.handleDrag=function(e,t,n){var s=n.deltaX,i=n.deltaY;a.updateXY(e,t,{deltaX:s,deltaY:i})},a.state={width:0,height:600,dragging:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=this.state.width,t=this.state.height;return s.a.createElement("div",{className:"selector"},s.a.createElement("div",{className:"shader",style:{position:"absolute",left:0,top:0,height:"".concat(t,"px"),width:"".concat(this.props.x,"px")}}),s.a.createElement("div",{className:"shader",style:{position:"absolute",left:"".concat(e-this.props.x,"px"),top:0,height:"".concat(t,"px"),width:"".concat(this.props.x,"px")}}),s.a.createElement("div",{className:"shader",style:{position:"absolute",left:"".concat(this.props.x,"px"),top:0,height:"".concat(this.props.y,"px"),width:"".concat(e-2*this.props.x,"px")}}),s.a.createElement("div",{className:"shader",style:{position:"absolute",left:"".concat(this.props.x,"px"),top:"".concat(t-this.props.y,"px"),height:"".concat(this.props.y,"px"),width:"".concat(e-2*this.props.x,"px")}}),s.a.createElement(O.DraggableCore,{onStart:this.handleStart.bind(this,"1"),onDrag:this.handleDrag.bind(this,"1"),onStop:this.handleStop.bind(this,"1")},s.a.createElement("div",{className:"handler",style:{top:this.props.y-6,left:this.props.x-6}})),s.a.createElement(O.DraggableCore,{onStart:this.handleStart.bind(this,"2"),onDrag:this.handleDrag.bind(this,"2"),onStop:this.handleStop.bind(this,"2")},s.a.createElement("div",{className:"handler",style:{top:this.props.y-6,left:e-this.props.x-6}})),s.a.createElement(O.DraggableCore,{onStart:this.handleStart.bind(this,"3"),onDrag:this.handleDrag.bind(this,"3"),onStop:this.handleStop.bind(this,"3")},s.a.createElement("div",{className:"handler",style:{top:t-this.props.y-6,left:this.props.x-6}})),s.a.createElement(O.DraggableCore,{onStart:this.handleStart.bind(this,"4"),onDrag:this.handleDrag.bind(this,"4"),onStop:this.handleStop.bind(this,"4")},s.a.createElement("div",{className:"handler",style:{top:t-this.props.y-6,left:e-this.props.x-6}})))}}]),t}(n.Component),j="pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA",N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).resize=function(){a.setState({width:.9*window.innerWidth}),a.handleViewportChange({width:"100%"})},a.handleViewportChange=function(e){if(!1===a.state.isdragging&&(a.setState({viewport:Object(g.a)({},a.state.viewport,e)}),a.mapRef.current)){var t=a.mapRef.current.getMap().getBounds();a.setState({selBounds:{n:t._ne.lat,s:t._sw.lat,w:t._sw.lng,e:t._ne.lng}})}},a.handleOnResult=function(e){console.log(e.result)},a.handleGeocoderViewportChange=function(e){console.log(e),a.handleViewportChange(Object(g.a)({},e,{transitionDuration:100}))},a.setDragging=function(e){a.setState({isdragging:e})},a.setXY=function(e){a.setState({selector:e})},a.getDistance=function(e,t,a,n){var s=e*Math.PI/180,i=a*Math.PI/180,c=(a-e)*Math.PI/180,o=(n-t)*Math.PI/180,r=Math.sin(c/2)*Math.sin(c/2)+Math.cos(s)*Math.cos(i)*Math.sin(o/2)*Math.sin(o/2);return 6371e3*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},a.getBoundArea=function(e,t,n,s){return a.getDistance(e,n,e,s)*a.getDistance(e,n,t,n)},a.state={viewport:{width:"100%",height:"600px",latitude:48.1358,longitude:11.5611,zoom:15},selector:{x:0,y:0},isdragging:!1,selBounds:{n:0,s:0,w:0,e:0},width:0},a.mapRef=s.a.createRef(),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize),this.resize();var e=this.mapRef.current.getMap().getBounds();this.setState({selBounds:{n:e._ne.lat,s:e._sw.lat,w:e._sw.lng,e:e._ne.lng},selector:{x:.9*window.innerWidth/4,y:150}})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var e=this.state,t=e.viewport,a=e.selector,n=e.selBounds,i=n.n-a.y/600*(n.n-n.s),c=n.s+a.y/600*(n.n-n.s),o=n.w+a.x/this.state.width*(n.e-n.w),r=n.e-a.x/this.state.width*(n.e-n.w),l=this.getBoundArea(i,c,o,r).toFixed(2),d=this.props.location.pathname==="".concat("/infomap","/demo");return s.a.createElement("div",null,s.a.createElement(b.default,Object.assign({className:"map",ref:this.mapRef},t,{onViewportChange:this.handleViewportChange,mapboxApiAccessToken:j,mapStyle:"mapbox://styles/mapbox/streets-v9"}),s.a.createElement(E.a,{mapRef:this.mapRef,onResult:this.handleOnResult,onViewportChange:this.handleGeocoderViewportChange,mapboxApiAccessToken:j,position:"top-left"}),s.a.createElement("div",{className:"control"},s.a.createElement(b.NavigationControl,{showCompass:!1,onViewportChange:this.handleViewportChange})),s.a.createElement(x,Object.assign({},a,{setDragging:this.setDragging,setXY:this.setXY}))),l<=5e6?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"area-indicator"},s.a.createElement("div",{className:"area-indicator-fill",style:{width:l/5e6*200}})),s.a.createElement("div",{className:"area-number"},"Area: ",l," m \xb2"),d?s.a.createElement(u.a,{to:"".concat("/infomap","/demo/selected")},s.a.createElement("div",{className:"button proceed-button"},"Proceed to Analysis ")):s.a.createElement(u.a,{to:"".concat("/infomap","/selected/").concat(o,"/").concat(c,"/").concat(r,"/").concat(i)},s.a.createElement("div",{className:"button proceed-button"},"Proceed to Analysis ")),s.a.createElement("div",{className:"proceed-alert green"}," You can use this selected region. ")):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"area-indicator"},s.a.createElement("div",{className:"area-indicator-fill area-exceed",style:{width:200}})),s.a.createElement("div",{className:"area-number"},"Area: >5 km \xb2"),s.a.createElement("div",{className:"button button-disabled proceed-button"},"Proceed to Analysis "),s.a.createElement("div",{className:"proceed-alert red"}," Area of the selected region is too big. ")),s.a.createElement("div",{className:"clearfix"}),d?s.a.createElement("div",null):s.a.createElement("div",{className:"raw"},s.a.createElement("div",null,s.a.createElement("p",null,"Viewport Coordinates:"),s.a.createElement("p",null," ","n: ".concat(n.n," s: ").concat(n.s," w: ").concat(n.w," e: ").concat(n.e))),s.a.createElement("div",null,s.a.createElement("p",null,"Selected Region Coordinates:"),s.a.createElement("p",null," ","n: ".concat(i," s: ").concat(c," w: ").concat(o," e: ").concat(r))),s.a.createElement("div",null,s.a.createElement("p",null,"Selected Region Area:"),s.a.createElement("p",null," ",l))))}}]),t}(n.Component),k=Object(w.a)(N),M=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("div",{className:"title"},"Select an Area"),s.a.createElement(k,null))}}]),t}(s.a.Component),S=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,"Help"))}}]),t}(s.a.Component),D=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,"About"))}}]),t}(s.a.Component),C=a(137),_=a.n(C),W=(a(217),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=[],a=this.props,n=a.width,i=a.height,c=a.nodes,o=a.ways,r=a.relations;for(var l in console.log("nolli"),r)if(r[l].building||r[l]["buidling:part"]){var d="";r[l].array.forEach(function(t){if("way"===t.type&&t.value){var a=e.props.getWayPoints(t.value.array);d+="M".concat(a,"Z ")}}),t.push(s.a.createElement("path",{d:d,fillRule:"evenodd",fill:"black",stroke:"white",strokeWidth:".5",key:l,className:"noly-building"},s.a.createElement("title",null,l)))}for(var l in o){var p=this.props.getWayPoints(o[l].array);o[l].building?t.push(s.a.createElement("polygon",{points:p,fill:"black",stroke:"white",strokeWidth:".5",key:l,className:"noly-building"})):t.push(s.a.createElement("polyline",{points:p,fill:"none",stroke:"blue",strokeWidth:"1",key:l}))}for(var l in c)c[l].tag&&t.push(s.a.createElement("circle",{cx:c[l].x,cy:c[l].y,r:"2",fill:"red",key:l}));return s.a.createElement("svg",{version:"1.1",viewBox:"0 0 ".concat(n," ").concat(i),style:{width:this.state.width}},t)}}]),t}(s.a.Component)),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getDistance=function(e,t,a,n){var s=e*Math.PI/180,i=a*Math.PI/180,c=(a-e)*Math.PI/180,o=(n-t)*Math.PI/180,r=Math.sin(c/2)*Math.sin(c/2)+Math.cos(s)*Math.cos(i)*Math.sin(o/2)*Math.sin(o/2);return 6371e3*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},a.getDirDistance=function(e,t,n,s){return n<=e&&s>=t?a.getDistance(e,t,n,s):-a.getDistance(e,t,n,s)},a.getBoundArea=function(e,t,n,s){return a.getDistance(e,n,e,s)*a.getDistance(e,n,t,n)},a.checkSingle=function(e){return Array.isArray(e)?e:e?[e]:[]},a.getWayPoints=function(e){var t="";return e.forEach(function(e){t+="".concat(e.x,",").concat(e.y," ")}),t},a.state={width:1e3,height:0,nodes:{},ways:{},relations:{}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.rawdata!==e.rawdata){var n=this.props,s=n.nlat,i=n.slat,c=n.wlng,o=n.elng,r=n.rawdata,l=this.state.width/this.getDistance(s,c,s,o),d=this.getDistance(s,c,i,c)*l,p={},h={},m={};if(r){var u=a(220).xml2js(r,{compact:!0,spaces:4});console.log(u);var v=this.checkSingle(u.osm.node),f=this.checkSingle(u.osm.way),g=this.checkSingle(u.osm.relation);v.forEach(function(e){var a=e._attributes.id,n=t.checkSingle(e.tag);p[a]=e,p[a].x=t.getDirDistance(s,c,s,e._attributes.lon)*l,p[a].y=t.getDirDistance(s,c,e._attributes.lat,c)*l,n.forEach(function(e){p[a][e._attributes.k]=e._attributes.v})}),f.forEach(function(e){var a=e._attributes.id,n=t.checkSingle(e.nd),s=t.checkSingle(e.tag);h[a]=e,h[a].array=[],n.forEach(function(e){h[a].array.push(p[e._attributes.ref])}),s.forEach(function(e){h[a][e._attributes.k]=e._attributes.v})}),g.forEach(function(e){var a=e._attributes.id,n=t.checkSingle(e.member),s=t.checkSingle(e.tag);m[a]=e,m[a].array=[],n.forEach(function(e){"way"===e._attributes.type?m[a].array.push({type:"way",value:h[e._attributes.ref],role:e._attributes.role}):"node"===e._attributes.type?m[a].array.push({type:"node",value:p[e._attributes.ref],role:e._attributes.role}):"relation"===e._attributes.type&&m[a].array.push({type:"relation",value:m[e._attributes.ref],role:e._attributes.role})}),s.forEach(function(e){m[a][e._attributes.k]=e._attributes.v})})}this.setState({height:d,nodes:p,ways:h,relations:m})}}},{key:"render",value:function(){return s.a.createElement(W,Object.assign({},this.state,{getWayPoints:this.getWayPoints}))}}]),t}(s.a.Component),X=a(138),Y=a.n(X),I=(a(279),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).changeMap=function(e){a.props.changeMap(e)},a.addOverlay=function(e,t){e.stopPropagation(),a.props.addOverlay(t)},a.removeOverlay=function(e,t){e.stopPropagation(),a.props.removeOverlay(t)},a.handleUpdate=function(e,t){console.log(e),console.log(t)},a.renderMenu=function(){var e=a.props,t=e.menu,n=e.added,i=e.selected,c=[],o=function(e){c.push(s.a.createElement("div",{className:e===i?"menu-item selected":"menu-item",key:"".concat(t[e]),onClick:function(){return a.changeMap(e)}},s.a.createElement("div",{className:"menu-title"},t[e]),-1!==n.indexOf(t[e])||"Overlay"===t[e]?s.a.createElement("div",null):s.a.createElement("svg",{version:"1.1",viewBox:"0 0 80 80",className:e===i?"icon selected":"icon",onClick:function(n){return a.addOverlay(n,t[e])}},s.a.createElement("path",{d:"M74,35H45V6c0-2.8-2.2-5-5-5s-5,2.2-5,5v29H6c-2.8,0-5,2.2-5,5c0,2.8,2.2,5,5,5h29v29c0,2.8,2.2,5,5,5s5-2.2,5-5V45h29 c2.8,0,5-2.2,5-5C79,37.2,76.8,35,74,35z"}))))};for(var r in t)o(r);return c},a.state={menu:a.props.layers,added:a.props.added,selected:a.props.selected},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.layers,a=this.props.added,n=this.props.selected;return console.log(a),s.a.createElement("div",{className:"menu"},s.a.createElement(Y.a,{dataSource:t,row:function(t,i){return s.a.createElement("div",{className:i===n?"menu-item selected":"menu-item",key:"".concat(t),onClick:function(){return e.changeMap(i)}},s.a.createElement("div",{className:"menu-subtitle"},t),-1!==a.indexOf(t)?s.a.createElement("svg",{version:"1.1",viewBox:"0 0 80 80",className:i===n?"icon selected":"icon",onClick:function(a){return e.removeOverlay(a,t)}},s.a.createElement("path",{id:"XMLID_6_",d:"M74,45H6c-2.8,0-5-2.2-5-5s2.2-5,5-5h68c2.8,0,5,2.2,5,5S76.8,45,74,45z"})):s.a.createElement("svg",{version:"1.1",viewBox:"0 0 80 80",className:i===n?"icon selected":"icon",onClick:function(a){return e.addOverlay(a,t)}},s.a.createElement("path",{d:"M74,35H45V6c0-2.8-2.2-5-5-5s-5,2.2-5,5v29H6c-2.8,0-5,2.2-5,5c0,2.8,2.2,5,5,5h29v29c0,2.8,2.2,5,5,5s5-2.2,5-5V45h29 c2.8,0,5-2.2,5-5C79,37.2,76.8,35,74,35z"})),s.a.createElement("div",{className:"clearfix"}))},handles:!1,onUpdate:this.handleUpdate}),s.a.createElement("div",{className:-1===n?"menu-item selected":"menu-item",onClick:function(){return e.changeMap(-1)}},s.a.createElement("div",{className:"menu-title"},"Overlay")))}}]),t}(s.a.Component)),P=Object(w.a)(I),B=(a(126),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).changeMap=function(e){a.setState({selected:e})},a.addOverlay=function(e){var t=a.state.added;t.push(e),a.setState({added:t})},a.removeOverlay=function(e){var t=a.state.added.indexOf(e),n=a.state.added;n.splice(t,1),console.log(n),a.setState({added:n})},a.state={raw:null,layers:["Nolli Map","Traffic"],added:["Nolli Map"],selected:0},a.bounds=a.props.match.params,a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.a.get("https://api.openstreetmap.org/api/0.6/map?bbox=".concat(this.bounds.wlng,",").concat(this.bounds.slat,",").concat(this.bounds.elng,",").concat(this.bounds.nlat)).then(function(t){t.data&&e.setState({raw:t.data})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"maps"},s.a.createElement("div",{className:"functions"},s.a.createElement(u.a,{to:"".concat("/infomap","/demo"),className:"back"},s.a.createElement("svg",{version:"1.1",viewBox:"0 0 80 80",className:"back-icon"},s.a.createElement("path",{id:"XMLID_7_",d:"M74,35H18.1l23.5-23.5c2-2,2-5.1,0-7.1c-2-2-5.1-2-7.1,0l-32,32c0,0,0,0,0,0C2.2,36.7,2,37,1.8,37.2 c-0.1,0.1-0.1,0.3-0.2,0.4c-0.1,0.2-0.2,0.3-0.2,0.5c-0.1,0.2-0.1,0.3-0.2,0.5c0,0.1-0.1,0.3-0.1,0.4c-0.1,0.6-0.1,1.3,0,2 c0,0.1,0.1,0.3,0.1,0.4c0.1,0.2,0.1,0.3,0.2,0.5c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.1,0.1,0.3,0.2,0.4C2,43,2.2,43.3,2.5,43.5l32,32 c1,1,2.3,1.5,3.5,1.5s2.6-0.5,3.5-1.5c2-2,2-5.1,0-7.1L18.1,45H74c2.8,0,5-2.2,5-5S76.8,35,74,35z"})),s.a.createElement("div",{className:"title"},"Change Location")),s.a.createElement("div",{className:"button export-button"},"Export")),s.a.createElement("div",{className:"clearfix"}),s.a.createElement(P,{layers:this.state.layers,added:this.state.added,selected:this.state.selected,changeMap:this.changeMap,addOverlay:this.addOverlay,removeOverlay:this.removeOverlay}),s.a.createElement("div",{className:"map-display"},s.a.createElement(A,Object.assign({layers:this.state.layers,added:this.state.added,selected:this.state.selected},this.props.match.params,{rawdata:this.state.raw}))),s.a.createElement("div",{className:"clearfix"}),s.a.createElement("div",{className:"raw"},s.a.createElement("div",null,"n: ".concat(this.bounds.nlat," s: ").concat(this.bounds.slat," w: ").concat(this.bounds.wlng," e: ").concat(this.bounds.elng)),s.a.createElement("div",null,"API address: ","https://api.openstreetmap.org/api/0.6/map?bbox=".concat(this.bounds.wlng,",").concat(this.bounds.slat,",").concat(this.bounds.elng,",").concat(this.bounds.nlat))))}}]),t}(s.a.Component)),z=a(139),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).changeMap=function(e){a.setState({selected:e})},a.addOverlay=function(e){a.setState({overlay:[{name:e,opacity:100}].concat(Object(z.a)(a.state.overlay))})},a.removeOverlay=function(e){var t=a.state.overlay.indexOf(e),n=a.state.overlay;n.splice(t,1),a.setState({overlay:n})},a.setOverlay=function(e){console.log(e),a.setState({overlay:e})},a.getShuffled=function(e){console.log(e),a.setState({shuffled:e})},a.setOpacity=function(e,t){var n=a.state.overlay.indexOf(e);console.log(n,t);var s=a.state.overlay;s[n]={name:e.name,opacity:parseInt(t)},a.setState({overlay:s})},a.renderLayers=function(){var e=a.state.overlay,t=[];for(var n in e)t.push(s.a.createElement("img",{key:e[n].name,style:{position:"absolute",maxWidth:"100%",opacity:e[n].opacity/100},src:"".concat("/infomap","/image/demo/").concat(e[n].name,".png"),alt:"".concat(e[n].name)}));return console.log(t),t.reverse()},a.state={sidebar:["Original","Nolli Map","Program","Traffic","POI Clustering","Overlay"],overlay:[{name:"Nolli Map",opacity:100}],shuffled:[{name:"Nolli Map",opacity:100}],selected:1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.sidebar[this.state.selected];return s.a.createElement("div",{className:"maps"},s.a.createElement("div",{className:"functions"},s.a.createElement(u.a,{to:"".concat("/infomap","/demo"),className:"back"},s.a.createElement("svg",{version:"1.1",viewBox:"0 0 80 80",className:"back-icon"},s.a.createElement("path",{id:"XMLID_7_",d:"M74,35H18.1l23.5-23.5c2-2,2-5.1,0-7.1c-2-2-5.1-2-7.1,0l-32,32c0,0,0,0,0,0C2.2,36.7,2,37,1.8,37.2 c-0.1,0.1-0.1,0.3-0.2,0.4c-0.1,0.2-0.2,0.3-0.2,0.5c-0.1,0.2-0.1,0.3-0.2,0.5c0,0.1-0.1,0.3-0.1,0.4c-0.1,0.6-0.1,1.3,0,2 c0,0.1,0.1,0.3,0.1,0.4c0.1,0.2,0.1,0.3,0.2,0.5c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.1,0.1,0.3,0.2,0.4C2,43,2.2,43.3,2.5,43.5l32,32 c1,1,2.3,1.5,3.5,1.5s2.6-0.5,3.5-1.5c2-2,2-5.1,0-7.1L18.1,45H74c2.8,0,5-2.2,5-5S76.8,35,74,35z"})),s.a.createElement("div",{className:"title"},"Change Location")),s.a.createElement("div",{className:"button export-button"},"Export This Mapping")),s.a.createElement("div",{className:"clearfix"}),s.a.createElement(P,Object.assign({},this.state,{changeMap:this.changeMap,addOverlay:this.addOverlay,removeOverlay:this.removeOverlay,setOverlay:this.setOverlay,setOpacity:this.setOpacity,getShuffled:this.getShuffled})),s.a.createElement("div",{className:"map-display"},"Overlay"!=e?s.a.createElement("img",{style:{position:"absolute",maxWidth:"100%"},src:"".concat("/infomap","/image/demo/").concat(e,".png"),alt:"selected"}):this.renderLayers()),s.a.createElement("div",{className:"clearfix"}))}}]),t}(s.a.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(s.a.Component),R=Object(w.a)(L),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"footer"},s.a.createElement("div",null,"Infomap v0.1.0 prototype \xa9 2018 Wu Chenmu"))}}]),t}(s.a.Component);a(284);c.a.render(s.a.createElement(o.a,null,s.a.createElement(R,null,s.a.createElement("div",{className:"content"},s.a.createElement(f,null),s.a.createElement(r.a,{exact:!0,path:"/infomap/",component:M}),s.a.createElement(r.a,{exact:!0,path:"/infomap/help",component:S}),s.a.createElement(r.a,{exact:!0,path:"/infomap/about",component:D}),s.a.createElement(r.a,{exact:!0,path:"/infomap/demo",component:M}),s.a.createElement(r.a,{exact:!0,path:"/infomap/selected/:wlng/:slat/:elng/:nlat",component:B}),s.a.createElement(r.a,{exact:!0,path:"/infomap/demo/selected",component:V}),s.a.createElement(H,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[140,2,1]]]);
//# sourceMappingURL=main.76bb3db0.chunk.js.map