(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(t,e,n){},162:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),i=n(30),s=n.n(i),c=n(168),r=n(167);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(5),h=n(4),p=n(7),d=n(6),u=n(8),m=n(164),g=(n(81),function(t){function e(){return Object(l.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"navbar-wrapper"},o.a.createElement("div",{className:"navbar-logo"},o.a.createElement(m.a,{to:"/infomap/"},o.a.createElement("img",{style:{height:40},src:"/infomap/image/logo.svg",alt:"Infomap Logo"}))),o.a.createElement("div",{className:"navbar-tabs"},o.a.createElement(m.a,{className:"navbar-tabitem",to:"/infomap/about"},"About"),o.a.createElement(m.a,{className:"navbar-tabitem",to:"/infomap/help"},"Help")))}}]),e}(o.a.Component)),b=(n(86),n(48)),w=n(39),v=n(73),f=n.n(v),y=n(26),E=n.n(y),x=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(p.a)(this,Object(d.a)(e).call(this,t))).updateWindowDimensions=function(){n.setState({width:.833333*window.innerWidth})},n.updateXY=function(t,e){"1"===t?n.props.setXY({x:e.x-92,y:e.y-132}):"2"===t?n.props.setXY({x:n.state.width-e.x+92,y:e.y-132}):"3"===t?n.props.setXY({x:e.x-92,y:n.state.height-e.y+132}):"4"===t&&n.props.setXY({x:n.state.width-e.x+92,y:n.state.height-e.y+132})},n.handleStart=function(t,e){n.props.setDragging(!0),n.updateXY(t,e)},n.handleStop=function(t,e){n.props.setDragging(!1),n.updateXY(t,e)},n.handleDrag=function(t,e){n.updateXY(t,e)},n.state={width:0,height:600,dragging:!1},n}return Object(u.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var t=this.state.width,e=this.state.height;return o.a.createElement("div",{className:"selector"},o.a.createElement("div",{className:"shader",style:{position:"absolute",left:0,top:0,height:"".concat(e,"px"),width:"".concat(this.props.x,"px")}}),o.a.createElement("div",{className:"shader",style:{position:"absolute",left:"".concat(t-this.props.x,"px"),top:0,height:"".concat(e,"px"),width:"".concat(this.props.x,"px")}}),o.a.createElement("div",{className:"shader",style:{position:"absolute",left:"".concat(this.props.x,"px"),top:0,height:"".concat(this.props.y,"px"),width:"".concat(t-2*this.props.x,"px")}}),o.a.createElement("div",{className:"shader",style:{position:"absolute",left:"".concat(this.props.x,"px"),top:"".concat(e-this.props.y,"px"),height:"".concat(this.props.y,"px"),width:"".concat(t-2*this.props.x,"px")}}),o.a.createElement(E.a,{bounds:"parent",position:{x:this.props.x-6,y:this.props.y-6},onStart:this.handleStart.bind(this,"1"),onDrag:this.handleDrag.bind(this,"1"),onStop:this.handleStop.bind(this,"1")},o.a.createElement("div",{className:"handler"})),o.a.createElement(E.a,{position:{x:t-this.props.x-6,y:this.props.y-6},onStart:this.handleStart.bind(this,"2"),onDrag:this.handleDrag.bind(this,"2"),onStop:this.handleStop.bind(this,"2")},o.a.createElement("div",{className:"handler"})),o.a.createElement(E.a,{position:{x:this.props.x-6,y:e-this.props.y-6},onStart:this.handleStart.bind(this,"3"),onDrag:this.handleDrag.bind(this,"3"),onStop:this.handleStop.bind(this,"3")},o.a.createElement("div",{className:"handler"})),o.a.createElement(E.a,{position:{x:t-this.props.x-6,y:e-this.props.y-6},onStart:this.handleStart.bind(this,"4"),onDrag:this.handleDrag.bind(this,"4"),onStop:this.handleStop.bind(this,"4")},o.a.createElement("div",{className:"handler"})))}}]),e}(a.Component),j="pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA",O=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(p.a)(this,Object(d.a)(e).call(this,t))).resize=function(){n.setState({width:.833333*window.innerWidth}),n.handleViewportChange({width:"100%"})},n.handleViewportChange=function(t){if(!1===n.state.isdragging&&(n.setState({viewport:Object(b.a)({},n.state.viewport,t)}),n.mapRef.current)){var e=n.mapRef.current.getMap().getBounds();n.setState({selBounds:{n:e._ne.lat,s:e._sw.lat,w:e._sw.lng,e:e._ne.lng}})}},n.handleOnResult=function(t){console.log(t.result)},n.handleGeocoderViewportChange=function(t){console.log(t),n.handleViewportChange(Object(b.a)({},t,{transitionDuration:100}))},n.setDragging=function(t){n.setState({isdragging:t})},n.setXY=function(t){n.setState({selector:t})},n.state={viewport:{width:"100%",height:"600px",latitude:37.7577,longitude:-122.4376,zoom:16},searchResultLayer:null,selector:{x:0,y:0},isdragging:!1,selBounds:{n:0,s:0,w:0,e:0},width:0},n.mapRef=o.a.createRef(),n}return Object(u.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize),this.resize();var t=this.mapRef.current.getMap().getBounds();this.setState({selBounds:{n:t._ne.lat,s:t._sw.lat,w:t._sw.lng,e:t._ne.lng},selector:{x:.833333*window.innerWidth/4,y:150}})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var t=this.state,e=t.viewport,n=(t.searchResultLayer,t.selector),a=t.selBounds,i=a.n-n.y/600*(a.n-a.s),s=a.s+n.y/600*(a.n-a.s),c=a.w+n.x/this.state.width*(a.e-a.w),r=a.e-n.x/this.state.width*(a.e-a.w);return o.a.createElement("div",{className:"map"},o.a.createElement(w.default,Object.assign({ref:this.mapRef},e,{onViewportChange:this.handleViewportChange,mapboxApiAccessToken:j,mapStyle:"mapbox://styles/mapbox/streets-v9"}),o.a.createElement(f.a,{mapRef:this.mapRef,onResult:this.handleOnResult,onViewportChange:this.handleGeocoderViewportChange,mapboxApiAccessToken:j,position:"top-left"}),o.a.createElement("div",{className:"control"},o.a.createElement(w.NavigationControl,{showCompass:!1,onViewportChange:this.handleViewportChange})),o.a.createElement(x,Object.assign({},n,{setDragging:this.setDragging,setXY:this.setXY}))),o.a.createElement("div",null,"Viewport Coordinates: ","n: ".concat(a.n," s: ").concat(a.s," w: ").concat(a.w," e: ").concat(a.e)),o.a.createElement("div",null,"Selected Area Coordinates: ","n: ".concat(i," s: ").concat(s," w: ").concat(c," e: ").concat(r)),o.a.createElement(m.a,{to:"".concat("/infomap","/selected/").concat(c,"/").concat(s,"/").concat(r,"/").concat(i)}," Proceed to Analysis "))}}]),e}(a.Component),S=function(t){function e(){return Object(l.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"content-wrapper"},o.a.createElement("div",{className:"title"},"Select an Area"),o.a.createElement(O,null))}}]),e}(o.a.Component),D=function(t){function e(){return Object(l.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,"Help"))}}]),e}(o.a.Component),N=function(t){function e(){return Object(l.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,"About"))}}]),e}(o.a.Component),C=n(74),k=n.n(C),Y=(n(151),function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(p.a)(this,Object(d.a)(e).call(this,t))).state={raw:null},n.bounds=n.props.match.params,n}return Object(u.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){var t=this;k.a.get("https://api.openstreetmap.org/api/0.6/map?bbox=".concat(this.bounds.wlng,",").concat(this.bounds.slat,",").concat(this.bounds.elng,",").concat(this.bounds.nlat)).then(function(e){e.data&&t.setState({raw:e.data})})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,"n: ".concat(this.bounds.nlat," s: ").concat(this.bounds.slat," w: ").concat(this.bounds.wlng," e: ").concat(this.bounds.elng)),o.a.createElement("div",null,"API address: ","https://api.openstreetmap.org/api/0.6/map?bbox=".concat(this.bounds.wlng,",").concat(this.bounds.slat,",").concat(this.bounds.elng,",").concat(this.bounds.nlat)),o.a.createElement("div",null,this.state.raw))}}]),e}(o.a.Component));n(158);s.a.render(o.a.createElement(c.a,null,o.a.createElement("div",{className:"content"},o.a.createElement(g,null),o.a.createElement(r.a,{exact:!0,path:"/infomap/",component:S}),o.a.createElement(r.a,{exact:!0,path:"/infomap/help",component:D}),o.a.createElement(r.a,{exact:!0,path:"/infomap/about",component:N}),o.a.createElement(r.a,{exact:!0,path:"/infomap/selected/:wlng/:slat/:elng/:nlat",component:Y}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},76:function(t,e,n){t.exports=n(162)},81:function(t,e,n){},86:function(t,e,n){}},[[76,2,1]]]);
//# sourceMappingURL=main.1d5efe17.chunk.js.map