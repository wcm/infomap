{"version":3,"sources":["serviceWorker.js","modules/Header.js","modules/Selector.js","modules/MapSelection.js","modules/SelectArea.js","modules/Help.js","modules/About.js","modules/Layers.js","modules/Sidebar.js","modules/Maps.js","modules/MapsDemo.js","modules/ScrollToTop.js","modules/Footer.js","index.js"],"names":["Boolean","window","location","hostname","match","Header","react_default","a","createElement","className","Link","to","process","style","height","src","alt","NavLink","activeClassName","React","Component","Selector","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateWindowDimensions","setState","width","innerWidth","updateXY","handlerID","e","_ref","deltaX","deltaY","x","state","y","setXY","handleStart","_ref2","setDragging","handleStop","_ref3","handleDrag","_ref4","dragging","addEventListener","removeEventListener","divWidth","divHeight","position","left","top","concat","react_draggable","onStart","bind","onDrag","onStop","MAPBOX_TOKEN","MapSelection","resize","handleViewportChange","viewport","isdragging","objectSpread","mapRef","current","bounds","getMap","getBounds","selBounds","n","_ne","lat","s","_sw","w","lng","handleOnResult","event","console","log","result","handleGeocoderViewportChange","transitionDuration","value","selector","getDistance","lat1","lon1","lat2","lon2","φ1","Math","PI","φ2","Δφ","Δλ","sin","cos","atan2","sqrt","getBoundArea","latitude","longitude","zoom","createRef","_this$state","nlat","slat","wlng","elng","area","toFixed","isDemo","pathname","esm","assign","ref","onViewportChange","mapboxApiAccessToken","mapStyle","dist_default","onResult","showCompass","modules_Selector","withRouter","SelectArea","modules_MapSelection","Help","About","NolliMap","_this2","content","_this$props","nodes","ways","relations","id","building","shapes","array","forEach","element","type","pts","getWayPoints","push","d","fillRule","fill","stroke","strokeWidth","key","points","tag","cx","cy","r","version","viewBox","Layers","_this3","getDirDistance","checkSingle","data","Array","isArray","node","prevProps","_this4","rawdata","_this$props2","ratio","require","xml2js","compact","spaces","osmNode","osm","osmWay","way","osmRelation","relation","_attributes","nodeTag","lon","k","v","wayNd","nd","wayTag","relationMember","member","relationTag","role","Layers_NolliMap","Sidebar","changeMap","addOverlay","title","stopPropagation","removeOverlay","handleUpdate","evt","updated","renderMenu","menu","added","selected","_loop","onClick","indexOf","layers","lib_default","dataSource","row","record","index","handles","onUpdate","Maps","newlist","splice","raw","params","axios","get","then","res","modules_Sidebar","modules_Layers","MapsDemo","overlay","name","opacity","toConsumableArray","newlayers","setOverlay","getShuffled","shuffled","setOpacity","newopacity","parseInt","renderLayers","maxWidth","reverse","sidebar","ScrollToTop","scrollTo","children","Footer","ReactDOM","render","BrowserRouter","modules_ScrollToTop","modules_Header","Route","exact","path","component","modules_Footer","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.76bb3db0.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport \"../scss/navbar.scss\";\n\nclass Header extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className = 'navbar-wrapper'>\n\t\t\t\t<div className = 'navbar-logo'><Link to = {process.env.PUBLIC_URL + '/'}><img style={{height: 40}} src={process.env.PUBLIC_URL + '/image/logo.svg'} alt='Infomap Logo' /></Link></div>\n\t\t\t\t<div className = 'navbar-tabs'>\n\t\t\t\t\t<NavLink className = 'navbar-tabitem' activeClassName = 'navbar-tabitem-active' to = {process.env.PUBLIC_URL + '/demo'}>Demo</NavLink>\n\t\t\t\t\t<NavLink className = 'navbar-tabitem' activeClassName = 'navbar-tabitem-active' to = {process.env.PUBLIC_URL + '/about'}>About</NavLink>\n\t\t\t\t\t<NavLink className = 'navbar-tabitem'activeClassName = 'navbar-tabitem-active' to = {process.env.PUBLIC_URL + '/help'}>Help</NavLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Header;\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport Draggable, { DraggableCore }from 'react-draggable';\n\nclass Selector extends Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\twidth: 0,\n\t\t\theight: 600,\n\t\t\tdragging: false,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t  this.updateWindowDimensions();\n\t  window.addEventListener('resize', this.updateWindowDimensions);\n\t}\n\n\tcomponentWillUnmount() {\n\t  window.removeEventListener('resize', this.updateWindowDimensions);\n\t}\n\n\tupdateWindowDimensions = () => {\n\t  this.setState({ width: window.innerWidth*0.9 });\n\t}\n\t\n\tupdateXY = (handlerID, e, { deltaX, deltaY }) => {\n\t\tif (handlerID === '1') {\n\t\t\tif (this.props.x+deltaX >= 40 && this.props.x+deltaX <= this.state.width/2-40 && this.props.y+deltaY >= 60 && this.props.y+deltaY <= this.state.height/2-40){\n\t\t\t\tthis.props.setXY({x: this.props.x+deltaX, y: this.props.y+deltaY});\n\t\t\t}\n\t\t}else if (handlerID === '2') {\n\t\t\tif (this.props.x-deltaX >= 40 && this.props.x-deltaX <= this.state.width/2-40 && this.props.y+deltaY >= 60 && this.props.y+deltaY <= this.state.height/2-40){\n\t\t\t\tthis.props.setXY({x: this.props.x-deltaX, y: this.props.y+deltaY});\n\t\t\t}\n\t\t}else if (handlerID === '3') {\n\t\t\tif (this.props.x+deltaX >= 40 && this.props.x+deltaX <= this.state.width/2-40 && this.props.y-deltaY >= 60 && this.props.y-deltaY <= this.state.height/2-40){\n\t\t\t\tthis.props.setXY({x: this.props.x+deltaX, y: this.props.y-deltaY});\n\t\t\t}\n\t\t}else if (handlerID === '4') {\n\t\t\tif (this.props.x-deltaX >= 40 && this.props.x-deltaX <= this.state.width/2-40 && this.props.y-deltaY >= 60 && this.props.y-deltaY <= this.state.height/2-40){\n\t\t\t\tthis.props.setXY({x: this.props.x-deltaX, y: this.props.y-deltaY});\n\t\t\t}\n\t\t}\n\t}\n\n\thandleStart = (handlerID, e, { deltaX, deltaY }) => {\n\t\tthis.props.setDragging(true);\n\t\tthis.updateXY(handlerID, e, { deltaX, deltaY });\n\t}\n\n\thandleStop = (handlerID, e, { deltaX, deltaY }) => {\n\t\tthis.props.setDragging(false);\n\t\tthis.updateXY(handlerID, e, { deltaX, deltaY });\n\t}\n\n\thandleDrag = (handlerID, e, { deltaX, deltaY }) => {\n\t\tthis.updateXY(handlerID, e, { deltaX, deltaY });\n\t}\n\n\trender() {\n\t\tconst divWidth = this.state.width;\n\t\tconst divHeight = this.state.height;\n\t\treturn (\n\t\t\t<div className='selector'>\n\t\t\t\t<div className='shader'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tleft:0,\n\t\t\t\t\t\ttop:0,\n\t\t\t\t\t\theight: `${ divHeight }px`,\n\t\t\t\t\t\twidth: `${ this.props.x }px`\n\t\t\t\t\t}}\t\t\t\t\t\n\t\t\t\t/>\n\t\t\t\t<div className='shader'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tleft:`${ divWidth-this.props.x }px`,\n\t\t\t\t\t\ttop:0,\n\t\t\t\t\t\theight: `${ divHeight }px`,\n\t\t\t\t\t\twidth: `${ this.props.x }px`\n\t\t\t\t\t}}\t\t\t\t\t\n\t\t\t\t/>\n\t\t\t\t<div className='shader'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tleft:`${ this.props.x }px`,\n\t\t\t\t\t\ttop:0,\n\t\t\t\t\t\theight: `${ this.props.y }px`,\n\t\t\t\t\t\twidth: `${ divWidth-this.props.x*2 }px`\n\t\t\t\t\t}}\t\t\t\t\t\n\t\t\t\t/>\n\t\t\t\t<div className='shader'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tleft:`${ this.props.x }px`,\n\t\t\t\t\t\ttop:`${ divHeight-this.props.y }px`,\n\t\t\t\t\t\theight: `${ this.props.y }px`,\n\t\t\t\t\t\twidth: `${ divWidth-this.props.x*2 }px`\n\t\t\t\t\t}}\t\t\t\t\t\n\t\t\t\t/>\n\t\t      <DraggableCore\n\t\t        onStart={this.handleStart.bind(this, '1')}\n\t\t        onDrag={this.handleDrag.bind(this, '1')}\n\t\t        onStop={this.handleStop.bind(this, '1')}>\n\t\t        <div className=\"handler\" style={{top:this.props.y-6, left:this.props.x-6}}/>\n\t\t      </DraggableCore>\n\t\t      <DraggableCore\n\t\t        onStart={this.handleStart.bind(this, '2')}\n\t\t        onDrag={this.handleDrag.bind(this, '2')}\n\t\t        onStop={this.handleStop.bind(this, '2')}>\n\t\t        <div className=\"handler\" style={{top:this.props.y-6, left:divWidth-this.props.x-6}}/>\n\t\t      </DraggableCore>\n\t\t      <DraggableCore\n\t\t        onStart={this.handleStart.bind(this, '3')}\n\t\t        onDrag={this.handleDrag.bind(this, '3')}\n\t\t        onStop={this.handleStop.bind(this, '3')}>\n\t\t        <div className=\"handler\" style={{top:divHeight-this.props.y-6, left:this.props.x-6}}/>\n\t\t      </DraggableCore>\n\t\t      <DraggableCore\n\t\t        onStart={this.handleStart.bind(this, '4')}\n\t\t        onDrag={this.handleDrag.bind(this, '4')}\n\t\t        onStop={this.handleStop.bind(this, '4')}>\n\t\t        <div className=\"handler\" style={{top:divHeight-this.props.y-6, left:divWidth-this.props.x-6}}/>\n\t\t      </DraggableCore>\n\t\t\t</div>\n\t\t)\n\t}\n};\n\nexport default Selector;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport MapGL, {NavigationControl} from \"react-map-gl\";\nimport Geocoder from \"react-map-gl-geocoder\";\nimport {withRouter} from \"react-router\";\nimport Selector from './Selector';\n\nconst MAPBOX_TOKEN =\"pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA\";\n\nclass MapSelection extends Component {\n  \tconstructor(props: Props) {\n\t    super(props);\n\t    this.state = {\n\t    \tviewport: {\n\t\t    \twidth: '100%',\n\t\t      \theight: '600px',\n\t\t      \tlatitude: 48.1358,\n\t\t      \tlongitude: 11.5611,\n\t\t      \tzoom: 15\n\t    \t},\t\n\t    \tselector:{\n\t    \t\tx: 0,\n\t    \t\ty: 0\n\t    \t},\n\t    \tisdragging: false,\n\t    \tselBounds:{\n\t    \t\tn: 0,\n\t    \t\ts: 0,\n\t    \t\tw: 0,\n\t    \t\te: 0\n\t    \t},\n\t    \twidth: 0\n\t  \t};\n\t  \tthis.mapRef = React.createRef();\n\t};\n\n  \t\n\n  \tcomponentDidMount() {\n    \twindow.addEventListener(\"resize\", this.resize);\n    \tthis.resize();\n    \tconst myMap = this.mapRef.current.getMap();\n    \tconst bounds = myMap.getBounds();\n    \tthis.setState({\n\t    \tselBounds:{\n\t    \t\tn: bounds._ne.lat,\n\t    \t\ts: bounds._sw.lat,\n\t\t\t\tw: bounds._sw.lng,\n\t    \t\te: bounds._ne.lng\n\t    \t},\n\t    \tselector:{\n\t    \t\tx: window.innerWidth*0.9/4,\n\t    \t\ty: 600/4\n\t    \t}\n\t    })\n  \t}\n\n  \tcomponentWillUnmount() {\n    \twindow.removeEventListener(\"resize\", this.resize);\n  \t}\n\n  \tresize = () => {\n  \t\tthis.setState({width: window.innerWidth*0.9})\n    \tthis.handleViewportChange({\n      \twidth: '100%',\n    \t});\n  \t}\n\n  \thandleViewportChange = (viewport) => {\n  \t\tif (this.state.isdragging === false){\n\t    \tthis.setState({\n\t    \t\tviewport: { ...this.state.viewport, ...viewport },\n\t    \t});\n\t    \tif (this.mapRef.current) {\n\t    \t\tconst myMap = this.mapRef.current.getMap();\n\t\t    \tconst bounds = myMap.getBounds();\n\t\t    \tthis.setState({selBounds:{\n\t\t    \t\tn: bounds._ne.lat,\n\t\t    \t\ts: bounds._sw.lat,\n\t\t\t\t\tw: bounds._sw.lng,\n\t\t    \t\te: bounds._ne.lng\n\t\t    \t}})\n\n\t    \t}\n    \t}\n  \t}\n\n  \thandleOnResult = (event) => {\n    \tconsole.log(event.result);\n  \t}\n\n  \thandleGeocoderViewportChange = (viewport) => {\n    \tconst geocoderDefaultOverrides = { transitionDuration: 100 };\n\t\tconsole.log(viewport);\n\t    this.handleViewportChange({\n\t      \t...viewport,\n\t      \t...geocoderDefaultOverrides,\n\t    });\n\n  \t}\n\n  \tsetDragging = (value) => {\n  \t\tthis.setState({isdragging: value});\n  \t}\n\n  \tsetXY = (value) => {\n  \t\tthis.setState({selector: value});  \t\t\n  \t}\n\t\n\tgetDistance = (lat1, lon1, lat2, lon2) => {\n\t  \tvar R = 6371e3; // metres\n\t\tvar φ1 = lat1* Math.PI / 180;\n\t\tvar φ2 = lat2* Math.PI / 180;\n\t\tvar Δφ = (lat2-lat1)* Math.PI / 180;\n\t\tvar Δλ = (lon2-lon1)* Math.PI / 180;\n\n\t\tvar a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n\t\t        Math.cos(φ1) * Math.cos(φ2) *\n\t\t        Math.sin(Δλ/2) * Math.sin(Δλ/2);\n\t\tvar c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n\n\t\treturn R * c;\n\t}\n\t\n\tgetBoundArea = (lat1, lat2, lon1, lon2) => {\n\t\treturn this.getDistance(lat1, lon1, lat1, lon2) * this.getDistance(lat1, lon1, lat2, lon1)\n\t}\n\n  \trender() {\n    \tconst { viewport, selector, selBounds } = this.state;\n\t    const nlat = selBounds.n - selector.y/600*(selBounds.n-selBounds.s);\n\t    const slat = selBounds.s + selector.y/600*(selBounds.n-selBounds.s);\n\t    const wlng = selBounds.w + selector.x/this.state.width*(selBounds.e-selBounds.w);\n\t    const elng = selBounds.e - selector.x/this.state.width*(selBounds.e-selBounds.w);\n\t    const area = this.getBoundArea(nlat, slat, wlng, elng).toFixed(2);\n\t    const isDemo = (this.props.location.pathname === `${process.env.PUBLIC_URL}/demo`);\n\t    return (\n\t    \t<div>\n\t\t\t\t<MapGL\n\t\t\t\t\tclassName='map'\n\t\t\t\t    ref={this.mapRef}\n\t\t\t\t    {...viewport}\n\t\t\t\t    onViewportChange={this.handleViewportChange}\n\t\t\t\t    mapboxApiAccessToken={MAPBOX_TOKEN}\n\t\t\t\t    mapStyle='mapbox://styles/mapbox/streets-v9'\n\t\t\t\t>\n\t\t\t\t\t<Geocoder\n\t\t\t\t\t    mapRef={this.mapRef}\n\t\t\t\t\t    onResult={this.handleOnResult}\n\t\t\t\t        onViewportChange={this.handleGeocoderViewportChange}\n\t\t\t\t        mapboxApiAccessToken={MAPBOX_TOKEN}\n\t\t\t\t        position=\"top-left\"\n\t\t\t\t    />\n\t\t\t        <div className='control'>\n\t\t\t        <NavigationControl \n\t\t\t        \tshowCompass={false}\n\t\t\t          \tonViewportChange={this.handleViewportChange} \n\t\t\t        />\n\t\t\t        </div>\n\t\t\t\t\t<Selector\n\t\t\t\t    \t{...selector}\n\t\t\t\t    \tsetDragging = {this.setDragging}\n\t\t\t\t    \tsetXY = {this.setXY}\n\t\t\t\t    />\n\n\t\t\t\t</MapGL>\n\t\t\t\t{area <= 5000000? \n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className=\"area-indicator\">\n\t\t\t\t\t\t\t<div className=\"area-indicator-fill\" style={{width: area/5000000*200}}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"area-number\">Area: {area} m &#178;</div>\n\t\t\t\t\t{isDemo ?\n\t\t\t\t\t    <Link to={`${process.env.PUBLIC_URL}/demo/selected`}> \n\t\t\t\t\t\t\t<div className='button proceed-button'>Proceed to Analysis </div>\n\t\t\t\t    \t</Link>\n\t\t\t\t\t:\n\t\t\t\t\t    <Link to={`${process.env.PUBLIC_URL}/selected/${wlng}/${slat}/${elng}/${nlat}`}> \n\t\t\t\t\t\t\t<div className='button proceed-button'>Proceed to Analysis </div>\n\t\t\t\t    \t</Link>\n\t\t\t\t    }\n\t\t\t\t\t\t<div className='proceed-alert green'> You can use this selected region. </div>\n\t\t\t\t    </div>\n\t\t\t    :\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className=\"area-indicator\">\n\t\t\t\t\t\t\t<div className=\"area-indicator-fill area-exceed\" style={{width: 200}}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"area-number\">Area: &#62;5 km &#178;</div>\n\t\t\t\t\t\t<div className='button button-disabled proceed-button'>Proceed to Analysis </div>\n\t\t\t\t\t\t<div className='proceed-alert red'> Area of the selected region is too big. </div>\n\t\t\t\t\t</div>\n\t\t    \t}\n\t\t\t    <div className='clearfix'/>\n\t\t\t    {isDemo?\n\t\t\t    \t<div/>\n\t\t\t    :\n\t\t\t\t<div className='raw'>\n\t\t\t\t    <div>\n\t\t\t\t    \t<p>Viewport Coordinates:</p>\n\t\t\t\t    \t<p> {`n: ${selBounds.n} s: ${selBounds.s} w: ${selBounds.w} e: ${selBounds.e}`}</p>\n\t\t\t\t    </div>\n\t\t\t    \t<div>\n\t\t\t    \t\t<p>Selected Region Coordinates:</p>\n\t\t\t    \t\t<p> {`n: ${nlat} s: ${slat} w: ${wlng} e: ${elng}`}</p>\n\t\t\t    \t</div>\n\t\t\t    \t<div>\n\t\t\t    \t\t<p>Selected Region Area:</p>\n\t\t\t    \t\t<p> {area}</p>\n\t\t\t    \t</div>\n\t\t    \t</div>\n\t\t    \t}\n\t\t    </div>\n\t    );\n  \t}\n};\n\nexport default withRouter(MapSelection);","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport '../scss/selectarea.scss'\nimport MapSelection from './MapSelection'\n\nclass SelectArea extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className = 'content-wrapper'>\n\t\t\t\t<div className = 'title'>Select an Area</div>\n\t\t\t\t<MapSelection/>\n\t\t\t\t{/*TODO*/}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SelectArea;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass Help extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>Help</div>\n\t\t\t\t{/*TODO*/}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Help;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass About extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>About</div>\n\t\t\t\t{/*TODO*/}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default About;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport '../scss/analysis.scss';\n\nclass NolliMap extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t}\n\t}\n\n\trender() {\n\t\tlet content = [];\n\t\tvar {width, height, nodes, ways, relations} = this.props;\n\t\tconsole.log(\"nolli\");\n\n\t    for (var id in relations) {\n\t    \tif (relations[id].building || relations[id][\"buidling:part\"]){\n\t    \t\tvar shapes = '';\n\t    \t\trelations[id].array.forEach((element)=>{\n\t    \t\t\tif (element.type === 'way' && element.value) {\n\t\t    \t\t\tvar pts = this.props.getWayPoints(element.value.array);\n\t\t    \t\t\tshapes += `M${pts}Z `;\n\t\t    \t\t}\n\t    \t\t})\n\t    \t\tcontent.push(\n\t    \t\t\t<path d={shapes} fillRule=\"evenodd\" fill=\"black\" stroke=\"white\" strokeWidth=\".5\" key={id} className=\"noly-building\">\n\t    \t\t\t\t<title>{id}</title>\n\t    \t\t\t</path>\n\t    \t\t)\n\t\t\t}\n\t    };\n\n\t    for (var id in ways) {\n\t    \tvar pts = this.props.getWayPoints(ways[id].array);\n\n\t    \tif (ways[id].building){\n\t    \t\tcontent.push(\n\t    \t\t\t<polygon points={pts} fill=\"black\" stroke=\"white\" strokeWidth=\".5\" key={id} className=\"noly-building\"/>\n\t    \t\t)\n\t    \t}else{\n\t\t\t\tcontent.push(\n\t\t\t\t\t<polyline points={pts} fill=\"none\" stroke=\"blue\" strokeWidth=\"1\" key={id}/>\n\t\t\t\t)\n\t\t\t}\n\t    };\n\n\t    for (var id in nodes) {\n\t    \tif (nodes[id].tag){\n\t\t\t\tcontent.push(\n\t\t\t\t\t<circle cx={nodes[id].x} cy={nodes[id].y} r=\"2\" fill=\"red\" key={id}/>\n\t\t\t\t)\n\t\t\t}\n\t    };\n\n\t\treturn(\n\t\t\t\t<svg version=\"1.1\" viewBox={`0 0 ${width} ${height}`} style = {{width: this.state.width}}>\n\t\t\t\t\t{content}\n\t\t\t\t</svg>\n\t\t)\n\t}\n\n}\n\nclass Layers extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\twidth: 1000,\n\t\t\theight: 0,\n\t\t\tnodes: {},\n\t\t\tways: {},\n\t\t\trelations: {},\n\t\t}\n\t}\n\n\tgetDistance = (lat1, lon1, lat2, lon2) => {\n\t  \tvar R = 6371e3; // metres\n\t\tvar φ1 = lat1* Math.PI / 180;\n\t\tvar φ2 = lat2* Math.PI / 180;\n\t\tvar Δφ = (lat2-lat1)* Math.PI / 180;\n\t\tvar Δλ = (lon2-lon1)* Math.PI / 180;\n\n\t\tvar a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n\t\t        Math.cos(φ1) * Math.cos(φ2) *\n\t\t        Math.sin(Δλ/2) * Math.sin(Δλ/2);\n\t\tvar c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n\n\t\treturn R * c;\n\t}\n\n\tgetDirDistance = (lat1, lon1, lat2, lon2) => {\n\t\tif (lat2 <= lat1 && lon2 >= lon1) {\n\t\t\treturn this.getDistance(lat1, lon1, lat2, lon2);\n\t\t}else{\n\t\t\treturn -this.getDistance(lat1, lon1, lat2, lon2);\n\t\t}\n\t}\n\t\n\tgetBoundArea = (lat1, lat2, lon1, lon2) => {\n\t\treturn this.getDistance(lat1, lon1, lat1, lon2) * this.getDistance(lat1, lon1, lat2, lon1)\n\t}\n\n\tcheckSingle = (data) => {\n\t\tif (Array.isArray(data)){\n\t\t\treturn data;\n\t\t}else if(data){\n\t\t\treturn [data];\n\t\t}else{\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tgetWayPoints = (data) => {\n\t\tvar pts = '';\n\t\tdata.forEach((node) =>{\n\t\t\tpts += `${node.x},${node.y} `\n\t    })\n\t    return pts;\n\t}\n\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif(this.props.rawdata !== prevProps.rawdata){\n\t\t\tconst {nlat, slat, wlng, elng, rawdata} = this.props;\n\t\t\tconst ratio = this.state.width/this.getDistance(nlat, wlng, nlat, elng);\n\t\t\tconst height = this.getDistance(nlat, wlng, slat, wlng)*ratio;\n\t\t\tvar nodes = {};\n\t\t\tvar ways = {};\n\t\t\tvar relations = {};\n\n\t\t\tif (rawdata){\n\t\t\t\tvar convert = require('xml-js');\n\t\t\t\tvar result = convert.xml2js(rawdata, {compact: true, spaces: 4});\n\t\t\t\tconsole.log(result);\n\n\t\t\t\tvar osmNode = this.checkSingle(result.osm.node);\n\t\t\t\tvar osmWay = this.checkSingle(result.osm.way);\n\t\t\t\tvar osmRelation = this.checkSingle(result.osm.relation);\n\t\t\t\t\n\t\t\t\tosmNode.forEach((element) => {\n\t\t\t\t\tvar id = element._attributes.id;\n\t\t\t\t\tvar nodeTag = this.checkSingle(element.tag);\n\n\t\t\t\t\tnodes[id] = element;\n\t\t\t\t\tnodes[id].x = this.getDirDistance(nlat, wlng, nlat, element._attributes.lon)*ratio;\n\t\t\t\t\tnodes[id].y = this.getDirDistance(nlat, wlng, element._attributes.lat, wlng)*ratio;\n\t\t\t\t\tnodeTag.forEach((tag) => {\n\t\t\t\t\t\tnodes[id][tag._attributes.k] = tag._attributes.v\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tosmWay.forEach((element) => {\n\t\t\t\t\tvar id = element._attributes.id;\n\t\t\t\t\tvar wayNd = this.checkSingle(element.nd);\n\t\t\t\t\tvar wayTag = this.checkSingle(element.tag);\n\n\t\t\t\t\tways[id] = element;\n\t\t\t\t\tways[id].array = [];\n\t\t\t\t\twayNd.forEach((nd) => {\n\t\t\t\t\t\tways[id].array.push(nodes[nd._attributes.ref])\n\t\t\t\t\t});\n\t\t\t\t\twayTag.forEach((tag) => {\n\t\t\t\t\t\tways[id][tag._attributes.k] = tag._attributes.v\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tosmRelation.forEach((element) => {\n\t\t\t\t\tvar id = element._attributes.id;\n\t\t\t\t\tvar relationMember = this.checkSingle(element.member);\n\t\t\t\t\tvar relationTag = this.checkSingle(element.tag);\n\n\t\t\t\t\trelations[id] = element;\n\t\t\t\t\trelations[id].array = [];\n\t\t\t\t\trelationMember.forEach((member) => {\n\t\t\t\t\t\tif (member._attributes.type === 'way'){\n\t\t\t\t\t\t\trelations[id].array.push({type: 'way', value: ways[member._attributes.ref], role: member._attributes.role});\n\t\t\t\t\t\t}else if (member._attributes.type === 'node'){\n\t\t\t\t\t\t\trelations[id].array.push({type: 'node', value: nodes[member._attributes.ref], role: member._attributes.role});\n\t\t\t\t\t\t}else if (member._attributes.type === 'relation'){\n\t\t\t\t\t\t\trelations[id].array.push({type:'relation', value: relations[member._attributes.ref], role: member._attributes.role});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\trelationTag.forEach((tag) => {\n\t\t\t\t\t\trelations[id][tag._attributes.k] = tag._attributes.v\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\theight: height,\n\t\t\t\tnodes: nodes,\n\t\t\t\tways: ways,\n\t\t\t\trelations: relations,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn(\n\t\t\t<NolliMap\n\t\t\t\t{...this.state}\n\t\t\t\tgetWayPoints = {this.getWayPoints}\n\t\t\t/>\n\t\t)\n\t}\n\n}\n\nexport default Layers;","import React from \"react\";\nimport {withRouter} from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport ReactDragList from 'react-drag-list';\nimport '../scss/sidebar.scss'\n\nclass Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    \tmenu: this.props.layers,\n    \tadded: this.props.added,\n    \tselected: this.props.selected,\n    }\n  };\n\n  changeMap = (key) => {\n  \tthis.props.changeMap(key);\n  }\n\n  addOverlay = (e, title) => {\n  \te.stopPropagation();\n  \tthis.props.addOverlay(title);\n  }\n\n  removeOverlay = (e, title) => {\n  \te.stopPropagation();\n  \tthis.props.removeOverlay(title);\n  }\n\n  handleUpdate = (evt, updated) => {\n    console.log(evt); // tslint:disable-line\n    console.log(updated);\n  } // tslint:disable-line\n\n  renderMenu = () => {\n    const {menu, added, selected} = this.props;\n\n    let content = [];\n    for (let key in menu) {\n      content.push(\n      <div className={key === selected?\"menu-item selected\":\"menu-item\"} key={`${menu[key]}`} onClick={() => this.changeMap(key)}>\n      \t<div className = \"menu-title\">\n        \t{menu[key]}\n        </div>\n        {added.indexOf(menu[key]) !== -1 || menu[key] === \"Overlay\" ?\n\t\t\t<div/>\n\t\t:\n\t        <svg version=\"1.1\" viewBox=\"0 0 80 80\" className={key === selected?\"icon selected\":\"icon\"} onClick={(e) => this.addOverlay(e, menu[key])}>\n\t\t\t\t<path d=\"M74,35H45V6c0-2.8-2.2-5-5-5s-5,2.2-5,5v29H6c-2.8,0-5,2.2-5,5c0,2.8,2.2,5,5,5h29v29c0,2.8,2.2,5,5,5s5-2.2,5-5V45h29\n\t\t\t\t\tc2.8,0,5-2.2,5-5C79,37.2,76.8,35,74,35z\"/>\n\t\t\t</svg>\n\t\t}\n      </div>\n      );\n    }\n    return content;\n  }\n\n  render() {\n    var layers = this.props.layers;\n    var added = this.props.added;\n    var selected = this.props.selected;\n\n    console.log(added);\n    return (\n      <div className=\"menu\">\n      \t<ReactDragList\n          dataSource={layers}\n          row={(record, index) => (\n\t\t      <div className={index === selected?\"menu-item selected\":\"menu-item\"} key={`${record}`} onClick={() => this.changeMap(index)}>\n\n\t\t      \t<div className = \"menu-subtitle\">\n\t\t        \t{record}\n\t\t        </div>\n\t\t        {added.indexOf(record) !== -1?\n\t\t\t\t    <svg version=\"1.1\" viewBox=\"0 0 80 80\" className={index === selected?\"icon selected\":\"icon\"} onClick={(e) => this.removeOverlay(e, record)}>\n\t\t\t\t\t\t<path id=\"XMLID_6_\" d=\"M74,45H6c-2.8,0-5-2.2-5-5s2.2-5,5-5h68c2.8,0,5,2.2,5,5S76.8,45,74,45z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t:\n\t\t\t        <svg version=\"1.1\" viewBox=\"0 0 80 80\" className={index === selected?\"icon selected\":\"icon\"} onClick={(e) => this.addOverlay(e, record)}>\n\t\t\t\t\t\t<path d=\"M74,35H45V6c0-2.8-2.2-5-5-5s-5,2.2-5,5v29H6c-2.8,0-5,2.2-5,5c0,2.8,2.2,5,5,5h29v29c0,2.8,2.2,5,5,5s5-2.2,5-5V45h29\n\t\t\t\t\t\t\tc2.8,0,5-2.2,5-5C79,37.2,76.8,35,74,35z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t}\n\t\t\t\t<div className=\"clearfix\"/>\n\t\t      </div>\n          )}\n          handles={false}\n          onUpdate={this.handleUpdate}\n        />\n        <div className={selected === -1?\"menu-item selected\":\"menu-item\"} onClick={() => this.changeMap(-1)}>\n\t      \t<div className = \"menu-title\">\n\t        \tOverlay\n\t        </div>\n\t    </div>\n\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Sidebar);","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport Layers from \"./Layers\";\nimport Sidebar from \"./Sidebar\";\nimport '../scss/maps.scss';\n\nclass Maps extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\traw: null,\n\t\t\tlayers:[\"Nolli Map\", \"Traffic\"],\n\t\t\tadded:[\"Nolli Map\"],\n\t\t\tselected:0,\n\t\t}\n\t\tthis.bounds = this.props.match.params;\n\t}\n\n\tcomponentDidMount() { \n\t    axios.get(`https://api.openstreetmap.org/api/0.6/map?bbox=${this.bounds.wlng},${this.bounds.slat},${this.bounds.elng},${this.bounds.nlat}`)\n\t      \t.then(res => {\n\t        \tif(res.data){\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\traw: res.data,\n\t\t\t\t\t})\n\t        \t};\n\t      \t});\n\n\t}\n\n\tchangeMap = (key) => {\n\t\tthis.setState({\n\t\t\tselected: key\n\t\t})\n\t}\n\n\taddOverlay = (title) => {\n\t\tconst newlist = this.state.added;\n\t\tnewlist.push(title);\n\t\tthis.setState({\n\t\t  added: newlist,\n\t\t})\t\n\t}\n\n\tremoveOverlay = (title) => {\n\t\tconst index = this.state.added.indexOf(title);\n\t\tconst newlist = this.state.added;\n\t\tnewlist.splice(index, 1);\n\t\tconsole.log(newlist);\n\t\tthis.setState({\n\t\t  added: newlist,\n\t\t})\t\n\t}\t\n\t\n\trender() {\t\n\t\treturn (\n\t\t\t<div className=\"maps\">\n\t\t\t\t<div className=\"functions\">\n\t\t\t\t\t<Link to={`${process.env.PUBLIC_URL}/demo`} className=\"back\">\n\t\t\t\t        <svg version=\"1.1\" viewBox=\"0 0 80 80\" className=\"back-icon\">\n\t\t\t\t\t\t\t<path id=\"XMLID_7_\" d=\"M74,35H18.1l23.5-23.5c2-2,2-5.1,0-7.1c-2-2-5.1-2-7.1,0l-32,32c0,0,0,0,0,0C2.2,36.7,2,37,1.8,37.2\n\t\t\t\tc-0.1,0.1-0.1,0.3-0.2,0.4c-0.1,0.2-0.2,0.3-0.2,0.5c-0.1,0.2-0.1,0.3-0.2,0.5c0,0.1-0.1,0.3-0.1,0.4c-0.1,0.6-0.1,1.3,0,2\n\t\t\t\tc0,0.1,0.1,0.3,0.1,0.4c0.1,0.2,0.1,0.3,0.2,0.5c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.1,0.1,0.3,0.2,0.4C2,43,2.2,43.3,2.5,43.5l32,32\n\t\t\t\tc1,1,2.3,1.5,3.5,1.5s2.6-0.5,3.5-1.5c2-2,2-5.1,0-7.1L18.1,45H74c2.8,0,5-2.2,5-5S76.8,35,74,35z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<div className=\"title\">Change Location</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className=\"button export-button\">Export</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"clearfix\"/>\n\t\t\t\t<Sidebar\n\t\t\t\t\tlayers = {this.state.layers}\n\t\t\t\t\tadded = {this.state.added}\n\t\t\t\t\tselected = {this.state.selected}\n\t\t\t\t\tchangeMap = {this.changeMap}\n\t\t\t\t\taddOverlay = {this.addOverlay}\n\t\t\t\t\tremoveOverlay = {this.removeOverlay}\n\t\t\t\t/>\n\t\t\t\t<div className=\"map-display\">\n\t\t\t\t\t<Layers\n\t\t\t\t\t\t\n\t\t\t\t\t\tlayers = {this.state.layers}\n\t\t\t\t\t\tadded = {this.state.added}\n\t\t\t\t\t\tselected = {this.state.selected}\n\t\t\t\t\t\t{...this.props.match.params}\n\t\t\t\t\t\trawdata = {this.state.raw}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"clearfix\"/>\n\t\t\t\t<div className=\"raw\">\n\t\t\t\t\t<div>{`n: ${this.bounds.nlat} s: ${this.bounds.slat} w: ${this.bounds.wlng} e: ${this.bounds.elng}`}</div>\n\t\t\t\t\t<div>API address: {`https://api.openstreetmap.org/api/0.6/map?bbox=${this.bounds.wlng},${this.bounds.slat},${this.bounds.elng},${this.bounds.nlat}`}</div>\n\t\t\t\t</div>\n\t\t    </div>\n\t\t);\n\t}\n}\n\nexport default Maps;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Sidebar from \"./Sidebar\";\nimport '../scss/maps.scss'\n\nclass MapsDemo extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsidebar:[\"Original\", \"Nolli Map\", \"Program\", \"Traffic\", \"POI Clustering\", \"Overlay\"],\n\t\t\toverlay:[\n\t\t\t\t{\n\t\t\t\t\tname: \"Nolli Map\",\n\t\t\t\t\topacity:100\n\t\t\t\t}\n\t\t\t],\n\t\t\tshuffled:[\n\t\t\t\t{\n\t\t\t\t\tname: \"Nolli Map\",\n\t\t\t\t\topacity:100\n\t\t\t\t}\n\t\t\t],\n\t\t\tselected:1\n\t\t}\n\t}\n\n\tcomponentDidMount() { \n\t}\n\n\tchangeMap = (key) => {\n\t\tthis.setState({\n\t\t\tselected: key\n\t\t})\n\t}\n\n\taddOverlay = (title) => {\n\t\tthis.setState({\n\t\t  overlay: [{name:title, opacity:100},...this.state.overlay],\n\t\t})\t\n\t}\n\n\tremoveOverlay = (title) => {\n\t\tconst index = this.state.overlay.indexOf(title);\n\t\tconst newlayers = this.state.overlay;\n\t\tnewlayers.splice(index, 1);\n\t\tthis.setState({\n\t\t  overlay: newlayers,\n\t\t})\t\n\t}\n\n\tsetOverlay = (data) => {\n\t\tconsole.log(data);\n\t\tthis.setState({\n\t\t\toverlay:data\n\t\t})\n\t}\n\n\tgetShuffled = (data) => {\n\t\tconsole.log(data);\n\t\tthis.setState({\n\t\t\tshuffled:data\n\t\t})\n\t}\n\n\tsetOpacity = (record, value) => {\n\t\tconst index = this.state.overlay.indexOf(record);\n\t\tconsole.log(index, value);\n\t\tconst newopacity = this.state.overlay;\n\t\tnewopacity[index] = {name: record.name, opacity:parseInt(value)};\n\t\tthis.setState({\n\t\t\toverlay: newopacity\n\t\t})\n\t}\n\t\n\trenderLayers = () => {\n\t\tconst layers = this.state.overlay;\n\t\tlet content = [];\n\t\tfor (let key in layers){\n\t\t\tcontent.push(\n\t\t\t\t<img key={layers[key].name} style={{position:\"absolute\", maxWidth: \"100%\", opacity:layers[key].opacity/100}} src={`${process.env.PUBLIC_URL}/image/demo/${layers[key].name}.png`} alt={`${layers[key].name}`} />\n\t\t\t);\n\t\t}\n\t\tconsole.log(content);\n\t\treturn content.reverse();\n\t}\n\n\trender() {\n\t\tconst selected = this.state.sidebar[this.state.selected];\n\t\treturn (\n\t\t\t<div className=\"maps\">\n\t\t\t\t<div className=\"functions\">\n\t\t\t\t\t<Link to={`${process.env.PUBLIC_URL}/demo`} className=\"back\">\n\t\t\t\t        <svg version=\"1.1\" viewBox=\"0 0 80 80\" className=\"back-icon\">\n\t\t\t\t\t\t\t<path id=\"XMLID_7_\" d=\"M74,35H18.1l23.5-23.5c2-2,2-5.1,0-7.1c-2-2-5.1-2-7.1,0l-32,32c0,0,0,0,0,0C2.2,36.7,2,37,1.8,37.2\n\t\t\t\tc-0.1,0.1-0.1,0.3-0.2,0.4c-0.1,0.2-0.2,0.3-0.2,0.5c-0.1,0.2-0.1,0.3-0.2,0.5c0,0.1-0.1,0.3-0.1,0.4c-0.1,0.6-0.1,1.3,0,2\n\t\t\t\tc0,0.1,0.1,0.3,0.1,0.4c0.1,0.2,0.1,0.3,0.2,0.5c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.1,0.1,0.3,0.2,0.4C2,43,2.2,43.3,2.5,43.5l32,32\n\t\t\t\tc1,1,2.3,1.5,3.5,1.5s2.6-0.5,3.5-1.5c2-2,2-5.1,0-7.1L18.1,45H74c2.8,0,5-2.2,5-5S76.8,35,74,35z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<div className=\"title\">Change Location</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className=\"button export-button\">Export This Mapping</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"clearfix\"/>\n\t\t\t\t<Sidebar\n\t\t\t\t\t{...this.state}\n\t\t\t\t\tchangeMap = {this.changeMap}\n\t\t\t\t\taddOverlay = {this.addOverlay}\n\t\t\t\t\tremoveOverlay = {this.removeOverlay}\n\t\t\t\t\tsetOverlay = {this.setOverlay}\n\t\t\t\t\tsetOpacity = {this.setOpacity}\n\t\t\t\t\tgetShuffled = {this.getShuffled}\n\t\t\t\t/>\n\t\t\t\t<div className=\"map-display\">\n\t\t\t\t\t{selected != \"Overlay\"?\n\t\t\t\t\t\t<img style={{position:\"absolute\", maxWidth: \"100%\"}}src={`${process.env.PUBLIC_URL}/image/demo/${selected}.png`} alt=\"selected\" />\n\t\t\t\t\t:\n\t\t\t\t\t\tthis.renderLayers()\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"clearfix\"/>\n\t\t    </div>\n\t\t);\n\t}\n}\n\nexport default MapsDemo;\n","import React from 'react';\nimport { withRouter } from \"react-router\";\n\nclass ScrollToTop extends React.Component {\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default withRouter(ScrollToTop);","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass Footer extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t}\n\t}\n\n\tcomponentDidMount() { \n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"footer\">\n\t\t\t\t<div>Infomap v0.1.0 prototype &copy; 2018 Wu Chenmu</div>\n\t\t    </div>\n\t\t);\n\t}\n}\n\nexport default Footer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nimport Header from './modules/Header';\nimport SelectArea from './modules/SelectArea';\nimport Help from './modules/Help';\nimport About from './modules/About';\nimport Maps from './modules/Maps';\nimport MapsDemo from './modules/MapsDemo';\nimport ScrollToTop from './modules/ScrollToTop';\nimport Footer from './modules/Footer';\nimport './scss/base.scss';\n\n\nReactDOM.render((\n<Router>\n\t<ScrollToTop>\n\t\t<div className = 'content'>\n\t\t\t<Header/>\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/'} component = {SelectArea} />\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/help'} component = {Help} />\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/about'} component = {About} />\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/demo'} component = {SelectArea} />\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/selected/:wlng/:slat/:elng/:nlat'} component = {Maps}/>\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/demo/selected'} component = {MapsDemo}/>\n\t\t\t<Footer/>\n\t\t</div>\n\t</ScrollToTop>\n</Router>\n), document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}