{"version":3,"sources":["serviceWorker.js","modules/Header.js","modules/Selector.js","modules/MapSelection.js","modules/SelectArea.js","modules/Help.js","modules/About.js","modules/NolliMap.js","modules/TrafficMap.js","modules/helpers.js","modules/VisibilityMap2.js","modules/POIMap.js","modules/NaturalElements.js","modules/D3Layers.js","modules/Sidebar.js","modules/Maps.js","modules/ScrollToTop.js","modules/MapsDemo.js","modules/Footer.js","index.js"],"names":["Boolean","window","location","hostname","match","Header","react_default","a","createElement","className","Link","to","process","style","height","src","alt","NavLink","activeClassName","React","Component","Selector","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateWindowDimensions","setState","width","innerWidth","updateXY","handlerID","e","_ref","deltaX","deltaY","newX","state","mouseX","newY","mouseY","setXY","x","y","handleStart","_ref2","setDragging","handleStop","_ref3","handleDrag","_ref4","dragging","addEventListener","removeEventListener","divWidth","divHeight","position","left","top","concat","react_draggable","onStart","bind","onDrag","onStop","MAPBOX_TOKEN","MapSelection","resize","handleViewportChange","viewport","initialLocation","setLocation","clearInterval","interval","isdragging","objectSpread","input","longitude","toFixed","latitude","mapRef","current","bounds","getMap","getBounds","selBounds","n","_ne","lat","s","_sw","w","lng","handleOnResult","event","console","log","result","handleGeocoderViewportChange","transitionDuration","value","selector","getDistance","lat1","lon1","lat2","lon2","φ1","Math","PI","φ2","Δφ","Δλ","sin","cos","atan2","sqrt","getBoundArea","newLng","parseFloat","document","getElementById","newLat","changeInputValue","field","newInput","target","zoom","bearing","pitch","createRef","_this2","setInterval","_this3","_this$state","nlat","slat","wlng","elng","area","esm","assign","ref","onViewportChange","mapboxApiAccessToken","mapStyle","dist_default","onResult","showCompass","modules_Selector","type","id","step","min","max","onChange","onClick","withRouter","SelectArea","raw","layers","added","POI Map","Nolli Map","Visibility","Traffic","Natural Elements","selected","params","modules_MapSelection","Help","About","NolliMap","getBuildingCat","tag","cat","forEach","group","index","indexOf","showTooltip","tags","bbox","getBBox","tooltip","info","hideTooltip","content","_this$props","ways","nodes","relations","styles","fill","levels","color","building","shapes","members","element","pts","map","join","option","push","d","fillRule","stroke","strokeWidth","key","onMouseEnter","onMouseLeave","unshift","points","text","attr","charAt","toUpperCase","substr","toLowerCase","decodeURI","tooltipstyle","right","version","viewBox","TrafficMap","getWayCat","ratio","lengthratio","highway","strokeLinecap","strokeLinejoin","route","role","toString","radius","cx","cy","r","toRad","Value","distSq","x1","y1","x2","y2","svgIntersections","require","intersect","svgShape","shape","VisibilityMap","updatePos","humans","setPos","setRegion","setArc","region","arcs","str","substring","length","split","num","array","i","abs","getArea","shaded","updateRegions","regions","changed","arc","angle","parts","shift","intersections","buildings","closePt","close","point","setRegions","setArcs","colors","human","handles","el","container","POIMap","longLinks","shortLinks","link","node","shortLink","NaturalElements","getElementCat","water","waterway","natural","landuse","leisure","green","D3Layers","getDirDistance","checkSingle","data","Array","isArray","getWayPoints","mapPix","b","c","addLoading","loading","resetLoading","updateStates","rawdata","xml2js","compact","spaces","osmNode","osm","osmWay","way","osmRelation","relation","_attributes","nodeTag","lon","k","v","wayNd","nd","wayTag","children","footprint","relationMember","member","relationTag","except","longLink","j","linkLengh","pixratio","offsetWidth","random","getOptions","selectedOption","options","title","setOption","addHuman","disabled","deleteHuman","newoptions","newhumans","newarcs","newregions","pop","prevProps","optionbar","maps","ovl","modules_POIMap","modules_NolliMap","VisibilityMap2","modules_TrafficMap","modules_NaturalElements","Sidebar","changeMap","addOverlay","stopPropagation","removeOverlay","handleUpdate","evt","updated","renderMenu","record","menu","Maps","newlist","axios","get","then","res","modules_Sidebar","modules_D3Layers","ScrollToTop","scrollTo","Footer","ReactDOM","render","BrowserRouter","modules_ScrollToTop","modules_Header","Route","exact","path","component","modules_Footer","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a553cb33.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport \"../scss/navbar.scss\";\n\nclass Header extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className = 'navbar-wrapper'>\n\t\t\t\t<div className = 'navbar-logo'><Link to = {process.env.PUBLIC_URL + '/'}><img style={{height: 40}} src={process.env.PUBLIC_URL + '/image/logo.svg'} alt='Infomap Logo' /></Link></div>\n\t\t\t\t<div className = 'navbar-tabs'>\n\t\t\t\t\t<NavLink className = 'navbar-tabitem' activeClassName = 'navbar-tabitem-active' to = {process.env.PUBLIC_URL + '/about'}>About</NavLink>\n\t\t\t\t\t<NavLink className = 'navbar-tabitem'activeClassName = 'navbar-tabitem-active' to = {process.env.PUBLIC_URL + '/help'}>Help</NavLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Header;\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport Draggable, { DraggableCore }from 'react-draggable';\n\nclass Selector extends Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\twidth: 0,\n\t\t\theight: 600,\n\t\t\tdragging: false,\n\t\t\tmouseX: this.props.x,\n\t\t\tmouseY: this.props.y\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t  this.updateWindowDimensions();\n\t  window.addEventListener('resize', this.updateWindowDimensions);\n\t}\n\n\tcomponentWillUnmount() {\n\t  window.removeEventListener('resize', this.updateWindowDimensions);\n\t}\n\n\tupdateWindowDimensions = () => {\n\t  this.setState({ width: window.innerWidth*0.9 });\n\t}\n\t\n\tupdateXY = (handlerID, e, { deltaX, deltaY }) => {\n\t\tvar newX = this.state.mouseX;\n\t\tvar newY = this.state.mouseY;\n\n\t\tif (handlerID === '1') {\n\t\t\tnewX += deltaX;\n\t\t\tnewY += deltaY;\n\t\t}else if (handlerID === '2') {\n\t\t\tnewX -= deltaX;\n\t\t\tnewY += deltaY;\n\t\t}else if (handlerID === '3') {\n\t\t\tnewX += deltaX;\n\t\t\tnewY -= deltaY;\n\t\t}else if (handlerID === '4') {\n\t\t\tnewX -= deltaX;\n\t\t\tnewY -= deltaY;\n\t\t}\n\t\tif (newX >= 40 && newX <= this.state.width/2-40 && newY >= 60 && newY <= this.state.height/2-40){\n\t\t\tthis.props.setXY({x: newX, y: newY});\n\t\t}\n\n\t\tthis.setState({\n\t\t\tmouseX: newX,\n\t\t\tmouseY: newY\n\t\t})\n\t}\n\n\thandleStart = (handlerID, e, { deltaX, deltaY }) => {\n\t\tthis.props.setDragging(true);\n\t\tthis.updateXY(handlerID, e, { deltaX, deltaY });\n\t}\n\n\thandleStop = (handlerID, e, { deltaX, deltaY }) => {\n\t\tthis.props.setDragging(false);\n\t\tthis.updateXY(handlerID, e, { deltaX, deltaY });\n\t\tthis.setState({\n\t\t\tmouseX: this.props.x,\n\t\t\tmouseY: this.props.y\n\t\t})\n\t}\n\n\thandleDrag = (handlerID, e, { deltaX, deltaY }) => {\n\t\tthis.updateXY(handlerID, e, { deltaX, deltaY });\n\t}\n\n\trender() {\n\t\tconst divWidth = this.state.width;\n\t\tconst divHeight = this.state.height;\n\t\treturn (\n\t\t\t<div className='selector'>\n\t\t\t\t<div className='shader'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tleft:0,\n\t\t\t\t\t\ttop:0,\n\t\t\t\t\t\theight: `${ divHeight }px`,\n\t\t\t\t\t\twidth: `${ this.props.x }px`\n\t\t\t\t\t}}\t\t\t\t\t\n\t\t\t\t/>\n\t\t\t\t<div className='shader'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tleft:`${ divWidth-this.props.x }px`,\n\t\t\t\t\t\ttop:0,\n\t\t\t\t\t\theight: `${ divHeight }px`,\n\t\t\t\t\t\twidth: `${ this.props.x }px`\n\t\t\t\t\t}}\t\t\t\t\t\n\t\t\t\t/>\n\t\t\t\t<div className='shader'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tleft:`${ this.props.x }px`,\n\t\t\t\t\t\ttop:0,\n\t\t\t\t\t\theight: `${ this.props.y }px`,\n\t\t\t\t\t\twidth: `${ divWidth-this.props.x*2 }px`\n\t\t\t\t\t}}\t\t\t\t\t\n\t\t\t\t/>\n\t\t\t\t<div className='shader'\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tleft:`${ this.props.x }px`,\n\t\t\t\t\t\ttop:`${ divHeight-this.props.y }px`,\n\t\t\t\t\t\theight: `${ this.props.y }px`,\n\t\t\t\t\t\twidth: `${ divWidth-this.props.x*2 }px`\n\t\t\t\t\t}}\t\t\t\t\t\n\t\t\t\t/>\n\t\t      <DraggableCore\n\t\t        onStart={this.handleStart.bind(this, '1')}\n\t\t        onDrag={this.handleDrag.bind(this, '1')}\n\t\t        onStop={this.handleStop.bind(this, '1')}>\n\t\t        <div className=\"handler\" style={{top:this.props.y-6, left:this.props.x-6}}/>\n\t\t      </DraggableCore>\n\t\t      <DraggableCore\n\t\t        onStart={this.handleStart.bind(this, '2')}\n\t\t        onDrag={this.handleDrag.bind(this, '2')}\n\t\t        onStop={this.handleStop.bind(this, '2')}>\n\t\t        <div className=\"handler\" style={{top:this.props.y-6, left:divWidth-this.props.x-6}}/>\n\t\t      </DraggableCore>\n\t\t      <DraggableCore\n\t\t        onStart={this.handleStart.bind(this, '3')}\n\t\t        onDrag={this.handleDrag.bind(this, '3')}\n\t\t        onStop={this.handleStop.bind(this, '3')}>\n\t\t        <div className=\"handler\" style={{top:divHeight-this.props.y-6, left:this.props.x-6}}/>\n\t\t      </DraggableCore>\n\t\t      <DraggableCore\n\t\t        onStart={this.handleStart.bind(this, '4')}\n\t\t        onDrag={this.handleDrag.bind(this, '4')}\n\t\t        onStop={this.handleStop.bind(this, '4')}>\n\t\t        <div className=\"handler\" style={{top:divHeight-this.props.y-6, left:divWidth-this.props.x-6}}/>\n\t\t      </DraggableCore>\n\t\t\t</div>\n\t\t)\n\t}\n};\n\nexport default Selector;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ReactMapGL, {NavigationControl} from \"react-map-gl\";\nimport Geocoder from \"react-map-gl-geocoder\";\nimport {withRouter} from \"react-router\";\nimport Selector from './Selector';\n\nconst MAPBOX_TOKEN =\"pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA\";\n\nclass MapSelection extends Component {\n  \tconstructor(props: Props) {\n\t    super(props);\n\t    var latitude = 48.13832;\n\t    var longitude = 11.57440;\n\t    if (this.props.latitude && this.props.longitude){\n\t    \tlatitude = parseFloat(this.props.latitude);\n\t    \tlongitude = parseFloat(this.props.longitude);\n\t    }\n\t    this.state = {\n\t    \tviewport: {\n\t\t    \twidth: \"100%\",\n\t\t      \theight: 600,\n\t\t      \tlongitude: longitude,\n\t\t      \tlatitude: latitude,\n\t\t      \tzoom: 15,\n\t\t\t\tbearing: 0,\n\t\t\t\tpitch: 0,    \t\n\t\t\t},\n\t\t\tinput: {\n\t\t\t\t\"longitude\": longitude.toFixed(4),\n\t\t\t\t\"latitude\": latitude.toFixed(4)\n\t\t\t},\n\t    \tselector:{\n\t    \t\tx: window.innerWidth*0.9/4,\n\t    \t\ty: 600/4\n\t    \t},\n\t    \tisdragging: false,\n\t    \tselBounds:{\n\t    \t\tn: 0,\n\t    \t\ts: 0,\n\t    \t\tw: 0,\n\t    \t\te: 0\n\t    \t},\n\t    \twidth: 0\n\t  \t};\n\t  \tthis.mapRef = React.createRef();\n\t};\n\n  \t\n\n  \tcomponentDidMount() {\n    \twindow.addEventListener(\"resize\", this.resize);\n  \t\tthis.resize();\n        this.interval = setInterval(() => this.initialLocation(), 1);\n  \t}\n\n  \tcomponentWillUnmount() {\n    \twindow.removeEventListener(\"resize\", this.resize);\n  \t}\n\n  \tresize = () => {\n  \t\tthis.setState({width: window.innerWidth*0.9})\n    \tthis.handleViewportChange(this.state.viewport);\n  \t}\n\n  \tinitialLocation = () =>{\n  \t\tthis.setLocation();\n  \t\tclearInterval(this.interval);\n  \t}\n  \thandleViewportChange = (viewport) => {\n  \t\tif (this.state.isdragging === false){\n\t    \tthis.setState({\n\t    \t\tviewport: { ...this.state.viewport, ...viewport },\n\t    \t\tinput: {\n\t\t\t\t\t\"longitude\": viewport.longitude.toFixed(4),\n\t\t\t\t\t\"latitude\": viewport.latitude.toFixed(4)\n\t\t\t\t}\n\t    \t});\n\t    \tif (this.mapRef.current) {\n\t    \t\tconst myMap = this.mapRef.current.getMap();\n\t\t    \tconst bounds = myMap.getBounds();\n\t\t    \tthis.setState({selBounds:{\n\t\t    \t\tn: bounds._ne.lat,\n\t\t    \t\ts: bounds._sw.lat,\n\t\t\t\t\tw: bounds._sw.lng,\n\t\t    \t\te: bounds._ne.lng\n\t\t    \t}})\n\n\t    \t}\n    \t}\n  \t}\n\n  \thandleOnResult = (event) => {\n    \tconsole.log(event.result);\n  \t}\n\n  \thandleGeocoderViewportChange = (viewport) => {\n    \tconst geocoderDefaultOverrides = { transitionDuration: 100 };\n\t    this.handleViewportChange({\n\t      \t...viewport,\n\t      \t...geocoderDefaultOverrides,\n\t    });\n\n  \t}\n\n  \tsetDragging = (value) => {\n  \t\tthis.setState({isdragging: value});\n  \t}\n\n  \tsetXY = (value) => {\n  \t\tthis.setState({selector: value});  \t\t\n  \t}\n\t\n\tgetDistance = (lat1, lon1, lat2, lon2) => {\n\t  \tvar R = 6371e3; // metres\n\t\tvar φ1 = lat1* Math.PI / 180;\n\t\tvar φ2 = lat2* Math.PI / 180;\n\t\tvar Δφ = (lat2-lat1)* Math.PI / 180;\n\t\tvar Δλ = (lon2-lon1)* Math.PI / 180;\n\n\t\tvar a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n\t\t        Math.cos(φ1) * Math.cos(φ2) *\n\t\t        Math.sin(Δλ/2) * Math.sin(Δλ/2);\n\t\tvar c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n\n\t\treturn R * c;\n\t}\n\t\n\tgetBoundArea = (lat1, lat2, lon1, lon2) => {\n\t\treturn this.getDistance(lat1, lon1, lat1, lon2) * this.getDistance(lat1, lon1, lat2, lon1)\n\t}\n\n\tsetLocation = () =>{\n\t\tvar newLng = parseFloat(document.getElementById(\"longitude\").value);\n\t\tvar newLat = parseFloat(document.getElementById(\"latitude\").value);\n    \tthis.handleViewportChange({\n    \t\tlongitude:newLng,\n    \t\tlatitude:newLat\n    \t});\t\t\n\t}\n\n\tchangeInputValue = (field, e) => {\n\t\tvar newInput = this.state.input;\n\t\tnewInput[field] = e.target.value;\n\t\tthis.setState({\n\t\t\tinput:newInput\n\t\t})\n\t}\n\n  \trender() {\n    \tconst { viewport, selector, selBounds } = this.state;\n\t    const nlat = selBounds.n - selector.y/600*(selBounds.n-selBounds.s);\n\t    const slat = selBounds.s + selector.y/600*(selBounds.n-selBounds.s);\n\t    const wlng = selBounds.w + selector.x/this.state.width*(selBounds.e-selBounds.w);\n\t    const elng = selBounds.e - selector.x/this.state.width*(selBounds.e-selBounds.w);\n\t    const area = this.getBoundArea(nlat, slat, wlng, elng).toFixed(2);\n\t    return (\n\t    \t<div>\n\t\t\t\t<ReactMapGL\n\t\t\t\t\tclassName='map'\n\t\t\t\t    ref={this.mapRef}\n\t\t\t\t    {...viewport}\n\t\t\t\t    onViewportChange={this.handleViewportChange}\n\t\t\t\t    mapboxApiAccessToken={MAPBOX_TOKEN}\n\t\t\t\t    mapStyle='mapbox://styles/mapbox/streets-v9'\n\t\t\t\t>\n\t\t\t\t\t<Geocoder\n\t\t\t\t\t    mapRef={this.mapRef}\n\t\t\t\t\t    onResult={this.handleOnResult}\n\t\t\t\t        onViewportChange={this.handleGeocoderViewportChange}\n\t\t\t\t        mapboxApiAccessToken={MAPBOX_TOKEN}\n\t\t\t\t        position=\"top-left\"\n\t\t\t\t    />\n\t\t\t        <div className='control'>\n\t\t\t        <NavigationControl \n\t\t\t        \tshowCompass={false}\n\t\t\t          \tonViewportChange={this.handleViewportChange} \n\t\t\t        />\n\t\t\t        </div>\n\t\t\t\t\t<Selector\n\t\t\t\t    \t{...selector}\n\t\t\t\t    \tsetDragging = {this.setDragging}\n\t\t\t\t    \tsetXY = {this.setXY}\n\t\t\t\t    />\n\n\t\t\t\t</ReactMapGL>\n\t\t\t\t{area <= 4000000? \n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className=\"area-indicator\">\n\t\t\t\t\t\t\t<div className=\"area-indicator-fill\" style={{width: area/4000000*200}}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"area-number\">Area: {area} m &#178;</div>\n\t\t\t\t\t    <Link to={`${process.env.PUBLIC_URL}/selected/${wlng}/${slat}/${elng}/${nlat}`}> \n\t\t\t\t\t\t\t<div className='button proceed-button'>Proceed to Analysis </div>\n\t\t\t\t    \t</Link>\n\t\t\t\t\t\t<div className='proceed-alert green'> You can use this selected region. </div>\n\t\t\t\t    </div>\n\t\t\t    :\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className=\"area-indicator\">\n\t\t\t\t\t\t\t<div className=\"area-indicator-fill area-exceed\" style={{width: 200}}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"area-number\">Area: &#62;4 km &#178;</div>\n\t\t\t\t\t\t<div className='button button-disabled proceed-button'>Proceed to Analysis </div>\n\t\t\t\t\t\t<div className='proceed-alert red'> Area of the selected region is too big. </div>\n\t\t\t\t\t</div>\n\t\t    \t}\n\t\t\t    <div className='clearfix'/>\n\t\t\t    <div>\n\t\t\t\t    longitude:\n\t\t\t\t    <input type=\"number\" id=\"longitude\" step=\"0.0001\" min=\"-180\" max=\"180\" value={this.state.input[\"longitude\"]} onChange={(e)=>this.changeInputValue(\"longitude\", e)}/>\n\t\t\t\t    latitude:\n\t\t\t\t    <input type=\"number\" id=\"latitude\" step=\"0.0001\" min=\"-90\" max=\"90\" value={this.state.input[\"latitude\"]} onChange={(e)=>this.changeInputValue(\"latitude\", e)}/>\n\t\t\t\t    <div className=\"button\" onClick={this.setLocation}>Go</div>\n\t\t\t    </div>\n\t\t\t\t<div className='raw'>\n\t\t\t\t    <div>\n\t\t\t\t    \t<p>Viewport Coordinates:</p>\n\t\t\t\t    \t<p> {`n: ${selBounds.n} s: ${selBounds.s} w: ${selBounds.w} e: ${selBounds.e}`}</p>\n\t\t\t\t    </div>\n\t\t\t    \t<div>\n\t\t\t    \t\t<p>Selected Region Coordinates:</p>\n\t\t\t    \t\t<p> {`n: ${nlat} s: ${slat} w: ${wlng} e: ${elng}`}</p>\n\t\t\t    \t</div>\n\t\t\t    \t<div>\n\t\t\t    \t\t<p>Selected Region Area:</p>\n\t\t\t    \t\t<p> {area}</p>\n\t\t\t    \t</div>\n\t\t    \t</div>\n\t\t    </div>\n\t    );\n  \t}\n};\n\nexport default withRouter(MapSelection);","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport '../scss/selectarea.scss'\nimport MapSelection from './MapSelection'\n\nclass SelectArea extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\traw: null,\n\t\t\tlayers:[\"POI Map\", \"Nolli Map\", \"Visibility\", \"Traffic\", \"Natural Elements\"],\n\t\t\tadded:{\n\t\t\t\t\"POI Map\": true,\n\t\t\t\t\"Nolli Map\": true,\n\t\t\t\t\"Visibility\": false,\n\t\t\t\t\"Traffic\": false,\n\t\t\t\t\"Natural Elements\":false\n\t\t\t},\n\t\t\tselected:\"Nolli Map\",\n\t\t}\n\t\tthis.bounds = this.props.match.params;\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className = 'content-wrapper'>\n\t\t\t\t<div className = 'title'>Select an Area</div>\n\t\t\t\t<MapSelection\n\t\t\t\t\tlatitude = {this.props.match.params.lat}\n\t\t\t\t\tlongitude = {this.props.match.params.lng}\n\t\t\t\t/>\n\t\t\t\t{/*TODO*/}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SelectArea;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass Help extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>Help</div>\n\t\t\t\t{/*TODO*/}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Help;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass About extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>About</div>\n\t\t\t\t{/*TODO*/}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default About;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass NolliMap extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttooltip: false,\n\t\t\tinfo: {},\n\t\t\tleft: true,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t}\n\n\tgetBuildingCat = (tag) => {\n\t\tconst keys = [\n\t\t\t[\"apartments\",\"farm\", \"hotel\", \"house\", \"detached\", \"residential\", \"dormitory\", \"terrace\", \"houseboat\", \"bungalow\", \"static_caravan\", \"cabin\"],\n\t\t\t[\"commercial\", \"office\", \"industrial\", \"retail\", \"supermarket\", \"warehouse\", \"kiosk\"],\n\t\t\t[\"religious\", \"cathedral\", \"chapel\", \"church\", \"mosque\", \"temple\", \"synagogue\", \"shrine\"],\n\t\t\t[\"bakehouse\", \"kindergarten\", \"civic\", \"government\", \"hospital\", \"school\", \"stadium\", \"train_station\", \"transportation\", \"university\", \"grandstand\", \"public\", \"toilets\", \"service\", \"parking\", \"garages\", \"garage\", \"sports_hall\", \"bridge\", \"\tcarport\", \"hangar\"],\n\t\t\t[\"greenhouse\",\"pavilion\", \"farm_auxiliary\", \"barn\"]\n\t\t]\n\n\t\tvar cat = 5;\n\n\t\tkeys.forEach((group, index) => {\n\t\t\tif(group.indexOf(tag) !== -1){\n\t\t\t\tcat = index;\n\t\t\t}\n\t\t});\n\n\t\treturn cat;\n\t}\n\n\n\tshowTooltip = (tags, e) =>{\n\t\tvar bbox = e.target.getBBox();\n\t\tif ((bbox.x + bbox.width/2) >= (this.props.width/2)){\n\t\t\tthis.setState({left: true})\n\t\t} else {\n\t\t\tthis.setState({left: false})\n\t\t}\n\t\tthis.setState({\n\t\t\ttooltip: true,\n\t\t\tinfo: tags,\n\t\t})\n\n\t}\n\n\thideTooltip = () =>{\n\n\t\tthis.setState({\n\t\t\ttooltip: false,\n\t\t\tinfo: {}\n\t\t})\n\n\t}\n\n\trender() {\n\t\tlet content = [];\n\t\tvar {width, height, nodes, ways, relations} = this.props;\n\t\tvar info = this.state.info;\n\t\tconst styles = [\n\t\t\t{\n\t\t\t\tfill: \"#ad4a00\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfill: \"#7693d3\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfill: \"#0053cc\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfill: \"#cb00d1\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfill: \"#b6ff97\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfill: \"rgba(60, 60, 60)\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfill: \"rgba(52, 168, 0, .4)\"\n\t\t\t}\n\t\t];\n\n\t\tvar cat = -1\n\n\t    var levels = null;\n\t    var color = \"rgba(60, 60, 60)\";\n\n\t    for (var id in relations) {\n\n\t    \tif (relations[id].tag.building || relations[id].tag[\"buidling:part\"]){\n\t    \t\tvar shapes = '';\n\t    \t\tcolor = \"rgba(60,60,60)\";\n\t    \t\t\n\t    \t\trelations[id].members.forEach((element)=>{\n\t    \t\t\tif (element.type === 'way' && element.value) {\n\t\t    \t\t\tvar pts = element.value.map(e => e.join(',')).join(' ');\n\t\t    \t\t\tshapes += `M ${pts}`;\n\t\t    \t\t}\n\t    \t\t})\n\n\t    \t\tif (this.props.option === \"Height\"){\n\t    \t\t\tlevels = relations[id].tag[\"building:levels\"];\n\t    \t\t\tif (levels){\n\t\t    \t\t\tcolor = `rgba(0,0,255,${levels/10})`;\n\t\t\t    \t\tcontent.push(\n\t\t\t    \t\t\t<path d={shapes} fillRule=\"evenodd\" fill={color} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t    \t\t\t\t<title>{id}</title>\n\t\t\t    \t\t\t</path>\n\t\t\t    \t\t);\n\t\t    \t\t}else{\n\t\t\t    \t\tcontent.unshift(\n\t\t\t    \t\t\t<path d={shapes} fillRule=\"evenodd\" fill={color} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t    \t\t\t\t<title>{id}</title>\n\t\t\t    \t\t\t</path>\n\t\t\t    \t\t);\n\t\t    \t\t}\n\t\t    \t}else if (this.props.option === \"Program\"){\n\t\t    \t\tcat = this.getBuildingCat(relations[id].tag.building);\n\t\t\t    \tcontent.push(\n\t\t\t    \t\t<path d={shapes} fillRule=\"evenodd\" fill={styles[cat].fill} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t    \t\t\t<title>{id}</title>\n\t\t\t    \t\t</path>\n\t\t\t    \t);\n\t\t    \t}else if (this.props.option === \"None\"){\n\t\t\t    \tcontent.push(\n\t\t\t    \t\t<path d={shapes} fillRule=\"evenodd\" fill={color} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t    \t\t\t<title>{id}</title>\n\t\t\t    \t\t</path>\n\t\t\t    \t);\n\t\t    \t}\n\t\t\t}\n\n\t    };\n\n\n\t    for (id in ways) {\n\n\t    \tif (ways[id].tag.building){\n\n\t    \t\tvar pts = ways[id].points.map(e => e.join(',')).join(' ');\n\t\t    \tcolor = \"rgba(60,60,60)\";\n\t    \t\tif (this.props.option === \"Height\"){\n\t\t    \t\tlevels = ways[id].tag[\"building:levels\"];\n\t    \t\t\tif (levels) {\n\t\t    \t\t\tcolor = `rgba(0,0,255,${levels/10})`;\n\t\t\t    \t\tcontent.push(\n\t\t\t    \t\t\t<polygon points={pts} fill={color} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, ways[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}/>\n\t\t\t    \t\t)\n\t\t    \t\t}else{\n\t\t\t    \t\tcontent.unshift(\n\t\t\t    \t\t\t<polygon points={pts} fill={color} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, ways[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}/>\n\t\t\t    \t\t)\t    \t\t\t\n\t\t    \t\t}\n\t\t    \t}else if (this.props.option === \"Program\"){\n\t\t\t\t\tcat = this.getBuildingCat(ways[id].tag.building);\n\t\t    \t\tcontent.push(\n\t\t\t    \t\t<polygon points={pts} fill={styles[cat].fill} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, ways[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}/>\n\t\t\t    \t)\n\n\t\t    \t}else if (this.props.option === \"None\"){\n\t\t\t    \tcontent.push(\n\t\t\t    \t\t<polygon points={pts} fill={color} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, ways[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}/>\n\t\t\t    \t)\n\t\t    \t}\n\t\t\t}\n\t    };\n\n/*\t    for (var id in nodes) {\n\t    \tif (nodes[id].tag != {}){\n\t\t\t\tcontent.push(\n\t\t\t\t\t<circle cx={nodes[id].x} cy={nodes[id].y} r=\"2\" fill=\"red\" key={id}/>\n\t\t\t\t)\n\t\t\t}\n\t    };\n*/\n\t\tvar text = [];\n\t\tfor (var key in info){\n\t\t\tif(!(key === \"building\" && info[key] === \"yes\")){\n\t\t\t\tvar attr = key.charAt(0).toUpperCase() + key.substr(1).toLowerCase();\n\t\t\t\ttext.push(\n\t\t\t\t\t<div className=\"tooltip-info\" key={key}><span className=\"tooltip-key\">{attr}: </span>{info[key]} {attr === \"Footprint\"? decodeURI(\"m%C2%B2\"):\"\"}</div>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\tvar tooltipstyle = {};\n\n\t\tif (this.state.left){\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tleft: \"0\"\n\t\t\t}\n\t\t}else{\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tright: \"0\"\n\t\t\t}\n\t\t}\n\t\treturn(\n\t\t\t<div className=\"nollimap\">\n\t\t\t\t<svg version=\"1.1\" viewBox={`0 0 ${width} ${height}`} style = {{width: this.state.width}}>\n\t\t\t\t\t{content}\n\t\t\t\t</svg>\n\t\t\t\t<div className={this.state.tooltip? \"tooltip\":\"hide\"} style={tooltipstyle}>\n\t\t\t\t\t<div className=\"tooltip-title\">Building Details</div>\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default NolliMap","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass TrafficMap extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttooltip: false,\n\t\t\tinfo: {},\n\t\t\tleft: true,\n\t\t}\n\t}\n\n\tshowTooltip = (tags, e) =>{\n\t\tvar bbox = e.target.getBBox();\n\t\tif ((bbox.x + bbox.width/2) >= (this.props.width/2)){\n\t\t\tthis.setState({left: true})\n\t\t} else {\n\t\t\tthis.setState({left: false})\n\t\t}\n\t\tthis.setState({\n\t\t\ttooltip: true,\n\t\t\tinfo: tags,\n\t\t})\n\n\t}\n\n\thideTooltip = () =>{\n\n\t\tthis.setState({\n\t\t\ttooltip: false,\n\t\t\tinfo: {}\n\t\t})\n\n\t}\n\n\tgetWayCat = (tag) => {\n\t\tconst keys = [\n\t\t\t[\"motorway\",\"trunk\", \"motorway_link\", \"trunk_link\"],\n\t\t\t[\"primary\", \"primary_link\"],\n\t\t\t[\"secondary\", \"tertiary\", \"secondary_link\", \"tertiary_link\", \"raceway\"],\n\t\t\t[\"unclassified\", \"residential\", \"living_street\", \"road\", \"escape\"],\n\t\t\t[\"service\",\"pedestrian\", \"track\", \"bus_guideway\", \"footway\", \"bridleway\", \"steps\", \"path\", \"cycleway\"]\n\t\t]\n\n\t\tvar cat = 5;\n\n\t\tkeys.forEach((group, index) => {\n\t\t\tif(group.indexOf(tag) !== -1){\n\t\t\t\tcat = index;\n\t\t\t}\n\t\t});\n\n\t\treturn cat;\n\t}\n\n\trender() {\n\t\tlet content = [[], [], [], [], [], []];\n\t\tvar {width, height, nodes, ways, relations} = this.props;\n\t\tvar ratio = this.props.lengthratio;\n\t\tvar info = this.state.info;\n\n\t\tconst styles = [\n\t\t\t{\n\t\t\t\tcolor: \"#b5451a\",\n\t\t\t\tstrokeWidth: \"16\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolor: \"#f15c22\",\n\t\t\t\tstrokeWidth: \"10\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolor: \"#f47d4e\",\n\t\t\t\tstrokeWidth: \"10\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolor: \"#f79d7a\",\n\t\t\t\tstrokeWidth: \"5\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolor: \"#f9bea7\",\n\t\t\t\tstrokeWidth: \"2\"\n\t\t\t},\n\t\t\t{\n\t\t\t\tcolor: \"#fcded3\",\n\t\t\t\tstrokeWidth:\"4\"\n\t\t\t}\n\t\t];\n\n\t\tvar cat = -1;\n\t\tvar style = {};\n\n\t    for (var id in ways) {\n\n\t    \tif (ways[id].tag.highway && (this.props.option === \"Roads\" || this.props.option === \"Both\")){\n\t    \t\tvar pts = ways[id].points.map(e => e.join(',')).join(' ');\n\t    \t\tcat = this.getWayCat(ways[id].tag.highway);\n\t    \t\tstyle = styles[cat];\n\t\t    \tcontent[5-cat].push(\n\t\t\t    \t<path d={`M ${pts}`} fill=\"none\" stroke={style.color} strokeWidth={style.strokeWidth * ratio} strokeLinecap=\"round\" strokeLinejoin=\"round\" key={id+\"w\"} onMouseEnter={this.showTooltip.bind(this, ways[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t\t\t    <title>{id}</title>\n\t\t\t\t\t</path>\n\t\t    \t)\n\t\t\t}\n\t    };\n\n\t    for (id in relations) {\n\t    \tif (relations[id].tag.route && (this.props.option === \"Public Transport\" || this.props.option === \"Both\")){\n\t    \t\trelations[id].members.forEach((element, index)=>{\n\t    \t\t\tif (element.type === 'way' && element.value) {\n\t\t    \t\t\tvar pts = element.value.map(e => e.join(',')).join(' ');\n\t\t    \t\t\tif (element.role === 'platform'){\n\t\t\t\t\t    \tcontent.push(\n\t\t\t\t\t    \t\t<path d={`M ${pts}`} fill=\"red\" stroke=\"red\" strokeWidth=\"1\" key={index.toString()+id} onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t\t\t    \t\t\t<title>{id}</title>\n\t\t\t\t\t    \t\t</path>\n\t\t\t\t\t    \t)\n\n\t\t    \t\t\t}else{\n\t\t\t\t\t    \tcontent.push(\n\t\t\t\t\t    \t\t<path d={`M ${pts}`} fill=\"none\" stroke=\"red\" strokeWidth=\"1\" key={index.toString()+id} onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t\t\t    \t\t\t<title>{id}</title>\n\t\t\t\t\t    \t\t</path>\n\t\t\t\t\t    \t)\n\t\t\t\t\t    }\n\t\t    \t\t}else if(element.type === 'node' && element.value){\n\t\t    \t\t\tvar radius = 50;\n\t\t    \t\t\tif (relations[id].tag.route === \"subway\" || relations[id].tag.route === \"train\"){radius = 100}\n\t\t\t\t    \tcontent.push(\n\t\t\t\t    \t\t<g key={index.toString()+id}>\n\t\t\t    \t\t\t\t<circle cx={element.value[0]} cy={element.value[1]} r={radius*ratio} fill=\"rgba(255,90,90,.1)\" onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t\t\t    \t\t\t<title>{id}</title>\n\t\t\t\t\t    \t\t</circle> \n\t\t\t    \t\t\t\t<circle cx={element.value[0]} cy={element.value[1]} r=\"2\" fill=\"#803535\" onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t\t\t    \t\t\t<title>{id}</title>\n\t\t\t\t\t    \t\t</circle> \n\t\t\t\t    \t\t</g>\n\t\t\t\t    \t)    \t\t\t\n\t\t    \t\t}\n\t    \t\t})\n\t\t\t}else if(relations[id].tag.highway && (this.props.option === \"Roads\" || this.props.option === \"Both\")){\n\t    \t\tvar shapes = '';\n\t    \t\trelations[id].members.forEach((element)=>{\n\t    \t\t\tif (element.type === 'way' && element.value) {\n\t\t    \t\t\tvar pts = element.value.map(e => e.join(',')).join(' ');\n\t\t    \t\t\tshapes += `M ${pts}`;\n\t\t    \t\t}\n\t    \t\t})\n\t    \t\tcat = this.getWayCat(relations[id].tag.highway);\n\t    \t\tstyle = styles[cat];\n\t\t    \tcontent[5-cat].push(\n\t\t    \t\t<path d={shapes} fillRule=\"evenodd\" fill={style.color} stroke=\"none\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t    \t\t\t<title>{id}</title>\n\t\t    \t\t</path>\n\t\t    \t)\n\n\t\t\t}\n\t    };\n\n\n{/*\t    for (id in nodes) {\n\t    \tif (nodes[id].tag.highway){\n\t\t\t\tcontent.push(\n\t\t\t\t\t<circle cx={nodes[id].x} cy={nodes[id].y} r=\"3\" fill=\"red\" stroke=\"white\" strokeWidth=\".5\" key={id} onMouseEnter={this.showTooltip.bind(this, nodes[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}/>\n\t\t\t\t)\n\t\t\t}\n\t    }; */}\n\n\t\tvar text = [];\n\t\tfor (var key in info){\n\t\t\tvar attr = key.charAt(0).toUpperCase() + key.substr(1).toLowerCase();\n\t\t\ttext.push(\n\t\t\t\t<div className=\"tooltip-info\" key={key}><span className=\"tooltip-key\">{attr}: </span>{info[key]} {attr === \"Footprint\"? decodeURI(\"m%C2%B2\"):\"\"}</div>\n\t\t\t)\n\t\t}\n\n\t\tvar tooltipstyle = {};\n\n\t\tif (this.state.left){\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tleft: \"0\"\n\t\t\t}\n\t\t}else{\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tright: \"0\"\n\t\t\t}\n\t\t}\n\n\t\treturn(\n\t\t\t<div className=\"nollimap\">\n\t\t\t\t<svg version=\"1.1\" viewBox={`0 0 ${width} ${height}`} style = {{width: this.state.width}}>\n\t\t\t\t\t{content}\n\t\t\t\t</svg>\n\t\t\t\t<div className={this.state.tooltip? \"tooltip\":\"hide\"} style={tooltipstyle}>\n\t\t\t\t\t<div className=\"tooltip-title\">Route Details</div>\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default TrafficMap","export function toRad(Value) {\n    /** Converts numeric degrees to radians */\n    return Value * Math.PI / 180;\n}\n\nexport function distSq(x1, y1, x2, y2){\n    return (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1);\n}\n\nexport function\tgetArea(array) {\n\t    var x = array;\n\t    var a = 0;\n\t    if (x.length < 3) return 0;\n\t    for (var i = 0; i < (x.length-1); i += 1) {\n\t        a += x[i][0] * x[i+1][1] - x[i+1][0] * x[i][1];\n\t    }\n\t    return Math.abs(a * 1.0 / 2);\n\t}\n","import React from \"react\";\nimport ReactDOM from 'react-dom';\nimport { DraggableCore }from 'react-draggable';\nimport {toRad, distSq, getArea} from \"./helpers\";\n\nvar svgIntersections = require('svg-intersections');\nvar intersect = svgIntersections.intersect;\nvar svgShape = svgIntersections.shape;\n\nclass VisibilityMap extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.ratio = this.props.ratio;\n\t    this.angle = 2;\n\n\t\tvar buildings = \"\";\n\t\tvar {nodes, ways, relations} = this.props;\n\n\t    for (var id in relations) {\n\n\t    \tif (relations[id].tag.building || relations[id].tag[\"buidling:part\"]){\n\t    \t\tvar shapes = '';\n\t    \t\t\n\t    \t\trelations[id].members.forEach((element)=>{\n\t    \t\t\tif (element.type === 'way' && element.value) {\n\t\t    \t\t\tvar pts = element.value.map(e => e.join(',')).join(' ');\n\t\t    \t\t\tshapes += `M ${pts}`;\n\t\t    \t\t}\n\t    \t\t})\n\n\t\t\t    buildings += shapes;\n\t\t    }\n\t    };\n\n\n\t    for (id in ways) {\n\n\t    \tif (ways[id].tag.building){\n\n\t    \t\tvar pts = ways[id].points.map(e => e.join(',')).join(' ');\n\t\t\t    buildings += `M ${pts}`;\n\t\t\t}\n\t    };\n\n\t    buildings += `M 0,0 0,${this.props.height} ${this.props.width},${this.props.height} ${this.props.width},0 Z`\n\n\t    this.buildings = buildings;\n\t    for (var key in this.props.regions){\n\t    \tif(this.props.regions[key] === \"\"){this.props.setRegion(key, `M${this.props.humans[key][0]/this.props.ratio},${this.props.humans[key][1]/this.props.ratio} `)};\n\t    }\n\t    this.state = {\n\t\t\ttooltip: 0,\n\t\t\tshaded: \"\",\n\t\t\tinfo: \"\",\n\t\t\tleft: true,\n\t\t}\n\n\t}\n\n\n    componentDidMount() {\n        this.interval = setInterval(() => this.updateRegions(), 5);\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n\n    updatePos = (key, e, { deltaX, deltaY }) => {\n\t\tvar newX = (this.props.humans[key][0] + deltaX)/this.props.ratio;\n\t\tvar newY = (this.props.humans[key][1] + deltaY)/this.props.ratio;\n\t\tif (newX > 5 && newX < (this.props.width-5) && newY > 5 && newY < (this.props.height-5)){\n\t\t\tthis.props.setPos(key, [this.props.humans[key][0] + deltaX, this.props.humans[key][1] + deltaY]);\n\t\t}\n\n    }\n\n\thandleStart = (key, e, { deltaX, deltaY }) => {\n\t\tthis.updatePos(key, e, { deltaX, deltaY });\n\t    this.props.setRegion(key, '');\n\t    this.props.setArc(key, -1)\n\t}\n\n\thandleDrag = (key, e, { deltaX, deltaY }) => {\n\t\tthis.updatePos(key, e, { deltaX, deltaY })\n\t}\n\n\thandleStop = (key, e, { deltaX, deltaY }) => {\n\t\tthis.updatePos(key, e, { deltaX, deltaY })\t    \n\t\tthis.props.setRegion(key, `M${this.props.humans[key][0]/this.props.ratio},${this.props.humans[key][1]/this.props.ratio} `);\n\t    this.props.setArc(key, 0)\n\t}\n\n\tshowTooltip = (region, index, e) =>{\n\t\tvar bbox = e.target.getBBox();\n\t\tif ((bbox.x + bbox.width/2) >= (this.props.width/2)){\n\t\t\tthis.setState({left: true})\n\t\t} else {\n\t\t\tthis.setState({left: false})\n\t\t}\n\t\tif (this.props.arcs[index]>=360){\n\t\t\tvar str = region.substring(1, region.length-2).split(\" \");\n\t\t\tvar pts = [];\n\t\t\tvar num = [];\n\t\t\tstr.forEach((substr) => {\n\t\t\t\tnum = substr.split(\",\");\n\t\t\t\tpts.push([parseFloat(num[0]), parseFloat(num[1])]);\n\t\t\t});\n\t\t\tvar area = getArea(pts) / this.props.lengthratio / this.props.lengthratio;\n\t\t\tthis.setState({\n\t\t\t\ttooltip: true,\n\t\t\t\tinfo: `Visible Area: ${area.toFixed(2)} m` + decodeURI(\"m%C2%B2\"),\n\t\t\t\tshaded: region,\n\t\t\t})\n\t\t}else{\t\t\tthis.setState({\n\t\t\t\ttooltip: true,\n\t\t\t\tinfo: \"Calculating area...\",\n\t\t\t})\n\t\t}\n\n\n\t}\n\n\thideTooltip = () =>{\n\n\t\tthis.setState({\n\t\t\ttooltip: false,\n\t\t\tinfo: \"\",\n\t\t\tshaded: \"\",\n\t\t})\n\n\t}\n\n\n\n\tupdateRegions = () => {\n\t\tvar regions = this.props.regions;\n\t\tvar arcs = this.props.arcs;\n\t\tvar changed = false;\n\t\tfor (var key in arcs){\n\t\t\tif (arcs[key]<360 && arcs[key] != -1){\n\t\t\t\tchanged = true;\n\t\t\t\tvar arc = arcs[key];\n\t\t\t\tvar region = regions[key];\n\t\t\t\tif (region === \"\"){region = `M${this.props.humans[key][0]/this.props.ratio},${this.props.humans[key][1]/this.props.ratio} `}\n\t\t\t\tif (arc + this.angle >=360){\n\t\t\t\t\tvar parts = region.split(\" \");\n\t\t\t\t\tparts.shift();\n\t\t\t\t\tregion = \"M\" + parts.join(\" \") + \"Z\";\n\t\t\t\t}else{\n\t\t\t\t\tvar width = this.props.width;\n\t\t\t\t\tvar height = this.props.height;\n\t\t\t\t\tvar radius = Math.max(width, height);\n\t\t\t\t\tvar x = this.props.humans[key][0]/this.ratio;\n\t\t\t\t\tvar y = this.props.humans[key][1]/this.ratio;\n\t\t\t\t\tvar intersections = intersect(  \n\t\t\t\t\t\tsvgShape(\"line\", { x1: x + radius * Math.sin(toRad(arc)), y1: y + radius * Math.cos(toRad(arc)), x2: x, y2: y }),\n\t\t\t\t\t\tsvgShape(\"path\", {d:this.buildings})  \n\t\t\t\t\t);\n\n\t\t\t\t\t//var closePt = {x: x + radius * Math.sin(toRad(arc)), y: y + radius * Math.cos(toRad(arc))};\n\t\t\t\t\tvar closePt = intersections.points[0];\n\t\t\t\t\tvar close = distSq(0, 0, width, height);\n\t\t\t\t\tif (closePt){close = distSq(x, y, closePt.x, closePt.y)}\n\n\t\t\t\t\tintersections.points.forEach((point) => {\n\t\t\t\t\t\tif (distSq(x, y, point.x, point.y) < close){\n\t\t\t\t\t\t\tclose = distSq(x, y, point.x, point.y);\n\t\t\t\t\t\t\tclosePt = point;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tregion = region + `${closePt.x},${closePt.y} `\n\t\t\t\t}\n\t\t\t\tregions[key] = region;\n\t\t\t\tarcs[key] = arc + this.angle;\n\t\t\t}\n\t\t}\n\t\tif(changed){\n\t\t\tthis.props.setRegions(regions);\n\t\t\tthis.props.setArcs(arcs);\n\t\t}\n\t}\n\n\trender() {\n\t\tvar colors = [\"rgba(255, 139, 0, .4)\", \"rgba(0, 139, 255, .2)\", \"rgba(139, 255, 0, .2)\", \"rgba(255, 0, 139, .2)\", \"rgba(0, 255, 139, .2\"]\n\t\tvar regions = this.props.regions.map((region, index) => <path d={region} fill={colors[0]} stroke=\"red\" strokeWidth=\"1\" key={index} onMouseEnter={this.showTooltip.bind(this, region, index)} onMouseLeave={this.hideTooltip.bind(this)}/>);\n\t\tvar humans = this.props.humans.map((human, index) => <circle cx={human[0]/this.ratio} cy={human[1]/this.ratio} r=\"3\" fill = \"red\" key={index}/>)\n\t\tvar handles = this.props.humans.map((human, index) => \t\t\t\t\n\t\t\t<DraggableCore\n\t\t\t    onStart={this.handleStart.bind(this, index)}\n\t\t\t    onDrag={this.handleDrag.bind(this, index)}\n\t\t\t    onStop={this.handleStop.bind(this, index)}\n\t\t\t    key={index}>\n\t\t    \t<div className=\"human\" style={{top:human[1]-15, left:human[0]-15}}>\n\t\t    \t</div>\n\t\t    </DraggableCore>\n\t\t)\n\n\t\tvar tooltipstyle = {};\n\n\t\tif (this.state.left){\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tleft: \"0\"\n\t\t\t}\n\t\t}else{\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tright: \"0\"\n\t\t\t}\n\t\t}\n\n\t\treturn(\n\t\t\t<div className=\"visibilitymap\">\n\t\t\t\t<svg version=\"1.1\" viewBox={`0 0 ${this.props.width} ${this.props.height}`} ref={el => (this.container = el)}>\n\t\t\t\t\t<path d={this.state.shaded} fill=\"#f15c22\" stroke=\"none\"/>\n\t\t\t\t\t<path d={this.buildings} fillRule=\"evenodd\" fill=\"rgba(0, 0, 0, .05)\" stroke=\"rgba(60, 60, 60)\" strokeWidth=\".5\"/>\n\t\t\t\t\t<g>\n\t\t\t\t\t{regions}\n\t\t\t\t\t</g>\n\t\t\t\t\t{humans}\n\t\t\t\t</svg>\n\t\t\t\t{handles}\n\t\t\t\t<div className={this.state.tooltip? \"tooltip\":\"hide\"} style={tooltipstyle}>\n\t\t\t\t\t<div className=\"tooltip-title\">{this.state.info}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n};\n\nexport default VisibilityMap;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass POIMap extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttooltip: false,\n\t\t\tinfo: {},\n\t\t\tleft: true,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t}\n\n\n\tshowTooltip = (tags, e) =>{\n\t\tvar bbox = e.target.getBBox();\n\t\tif ((bbox.x + bbox.width/2) >= (this.props.width/2)){\n\t\t\tthis.setState({left: true})\n\t\t} else {\n\t\t\tthis.setState({left: false})\n\t\t}\n\t\tthis.setState({\n\t\t\ttooltip: true,\n\t\t\tinfo: tags,\n\t\t})\n\n\t}\n\n\thideTooltip = () =>{\n\n\t\tthis.setState({\n\t\t\ttooltip: false,\n\t\t\tinfo: {}\n\t\t})\n\n\t}\n\n\trender() {\n\t\tlet content = [];\n\t\tvar {nodes, ways, relations,width, height} = this.props;\n\t\tvar selected = this.props.selected;\n\t\tvar longLinks = this.props.longLinks;\n\t\tvar shortLinks = this.props.shortLinks;\n\t\tvar info = this.state.info;\n\t\t\n\t\tif(this.props.option === \"Short Links\"){\n\t\t\tcontent.push(shortLinks.map((link) => <line x1={link.x1} y1={link.y1} x2={link.x2} y2={link.y2} stroke=\"rgba(255, 0, 255, .3)\" strokeWidth=\".5\"key={`${link.x1} ${link.y1} ${link.x2} ${link.y2}`}/>));\n\t\t}\n\t\tif(this.props.option === \"Long Links\"){\n\t\t\tcontent.push(longLinks.map((link) => <line x1={link.x1} y1={link.y1} x2={link.x2} y2={link.y2} stroke=\"rgba(255, 0, 255, .3)\" strokeWidth=\".5\"key={`${link.x1} ${link.y1} ${link.x2} ${link.y2}`}/>));\n\t\t}\n\t\t\n\t\tcontent.push(selected.map((node) => <circle cx={node.x} cy={node.y} r={2+node.shortLink/8} fill=\"red\" key={`${node.x} ${node.y}`} onMouseEnter={this.showTooltip.bind(this, node.tag)} onMouseLeave={this.hideTooltip.bind(this)}/>));\n\t\t\n\t\tvar text = [];\n\t\tfor (var key in info){\n\t\t\tif(!(key === \"building\" && info[key] === \"yes\")){\n\t\t\t\tvar attr = key.charAt(0).toUpperCase() + key.substr(1).toLowerCase();\n\t\t\t\ttext.push(\n\t\t\t\t\t<div className=\"tooltip-info\" key={key}><span className=\"tooltip-key\">{attr}: </span>{info[key]} {attr === \"Footprint\"? decodeURI(\"m%C2%B2\"):\"\"}</div>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\tvar tooltipstyle = {};\n\n\t\tif (this.state.left){\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tleft: \"0\"\n\t\t\t}\n\t\t}else{\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tright: \"0\"\n\t\t\t}\n\t\t}\n\t\treturn(\n\t\t\t<div className=\"nollimap\">\n\t\t\t\t<svg version=\"1.1\" viewBox={`0 0 ${width} ${height}`} style = {{width: this.state.width}}>\n\t\t\t\t\t{content}\n\t\t\t\t</svg>\n\t\t\t\t<div className={this.state.tooltip? \"tooltip\":\"hide\"} style={tooltipstyle}>\n\t\t\t\t\t<div className=\"tooltip-title\">Building Details</div>\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default POIMap","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass NaturalElements extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttooltip: false,\n\t\t\tinfo: {},\n\t\t\tleft: true,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t}\n\n\tgetElementCat = (tag) => {\n\t\t\n\t\tconst water = {\n\t\t\t\"water\": [],\n\t\t\t\"waterway\":[\"riverbank\"],\n\t\t\t\"natural\": [\"water\", \"wetland\", \"glacier\", \"bay\", \"strait\"],\n\t\t\t\"landuse\": [\"basin\", \"reservoir\"],\n\t\t\t\"leisure\": [\"water_park\", \"swimming_pool\", \"swimming_area\", \"marina\", \"fishing\"]\n\t\t}\n\n\t\tconst green = {\n\t\t\t\"natural\":[\"wood\", \"tree_row\", \"scrub\", \"heath\", \"moor\", \"grassland\"],\n\t\t\t\"landuse\":[\"allotments\", \"farmland\", \"farmyard\", \"forest\", \"grass\", \"greenfield\", \"greenhouse_horticulture\", \"meadow\", \"orchard\", \"plant_nursery\", \"recreation_ground\", \"village_green\", \"vineyard\"],\n\t\t\t\"leisure\":[\"park\", \"garden\", \"golf_course\", \"dog_park\", \"pitch\", \"track\"]\n\t\t}\n\n\t\tfor (var key in water) {\n\t\t\tif(water[key].indexOf(tag[key]) != -1 || tag[key] != null && water[key].length === 0){\n\t\t\t\treturn \"water\";\n\t\t\t}\n\t\t};\n\n\t\tfor (key in green) {\n\t\t\tif(green[key].indexOf(tag[key]) != -1 || tag[key] && green[key].length === 0){\n\t\t\t\treturn \"green\";\n\t\t\t}\n\t\t};\n\n\t\treturn \"none\";\n\t}\n\n\n\tshowTooltip = (tags, e) =>{\n\t\tvar bbox = e.target.getBBox();\n\t\tif ((bbox.x + bbox.width/2) >= (this.props.width/2)){\n\t\t\tthis.setState({left: true})\n\t\t} else {\n\t\t\tthis.setState({left: false})\n\t\t}\n\t\tthis.setState({\n\t\t\ttooltip: true,\n\t\t\tinfo: tags,\n\t\t})\n\n\t}\n\n\thideTooltip = () =>{\n\n\t\tthis.setState({\n\t\t\ttooltip: false,\n\t\t\tinfo: {}\n\t\t})\n\n\t}\n\n\trender() {\n\t\tlet content = [];\n\t\tvar {width, height, nodes, ways, relations} = this.props;\n\t\tvar info = this.state.info;\n\t\tconst styles = [\n\t\t\t{\n\t\t\t\tfill: \"#7693d3\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfill: \"rgba(52, 168, 0, .4)\"\n\t\t\t}\n\t\t];\n\n\t\tvar cat = \"none\";\n\t\tvar style = -1;\n\n\t    for (var id in relations) {\n\t\t\tcat = this.getElementCat(relations[id].tag);\n\t\t\tstyle = -1;\n\t\t\tif (cat === \"water\"){style = 0}else if (cat === \"green\"){style = 1}\n\t\t\tif (style != -1){\n\t    \t\tvar shapes = '';\n\t    \t\trelations[id].members.forEach((element)=>{\n\t    \t\t\tif (element.type === 'way' && element.value) {\n\t\t    \t\t\tvar pts = element.value.map(e => e.join(',')).join(' ');\n\t\t    \t\t\tshapes += `M ${pts}`;\n\t\t    \t\t}\n\t    \t\t})\n\t    \t\tif (cat === \"water\"){\n\t\t\t    \tcontent.push(\n\t\t\t    \t\t<path d={shapes} fillRule=\"evenodd\" fill={styles[style].fill} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t    \t\t\t<title>{id}</title>\n\t\t\t    \t\t</path>\n\t\t\t    \t);\n\t\t\t    }else{\n\t\t\t    \tcontent.unshift(\n\t\t\t    \t\t<path d={shapes} fillRule=\"evenodd\" fill={styles[style].fill} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, relations[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}>\n\t\t\t    \t\t\t<title>{id}</title>\n\t\t\t    \t\t</path>\n\t\t\t    \t);\n\t\t\t    }\n\t\t\t}\n\t    };\n\n\n\t    for (id in ways) {\n\t\t\tcat = this.getElementCat(ways[id].tag);\n\t\t\tstyle = -1;\n\t\t\tif (cat === \"water\"){style = 0}else if (cat === \"green\"){style = 1}\n\t\t\tif (style != -1){\n\t\t\t\tvar pts = ways[id].points.map(e => e.join(',')).join(' ');\n\t\t\t\tif (cat === \"water\"){\n\t\t\t    \tcontent.push(\n\t\t\t    \t\t<polygon points={pts} fill={styles[style].fill} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, ways[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}/>\n\t\t\t    \t)\n\t\t\t    }else{\n\t\t\t    \tcontent.unshift(\n\t\t\t    \t\t<polygon points={pts} fill={styles[style].fill} stroke=\"white\" strokeWidth=\".5\" key={id} className=\"nolli-building\" onMouseEnter={this.showTooltip.bind(this, ways[id].tag)} onMouseLeave={this.hideTooltip.bind(this)}/>\n\t\t\t    \t)\t\t\t    \t\n\t\t\t    }\n\t\t\t}\n\t    };\n\n\t\tvar text = [];\n\t\tfor (var key in info){\n\t\t\tif(!(key === \"building\" && info[key] === \"yes\")){\n\t\t\t\tvar attr = key.charAt(0).toUpperCase() + key.substr(1).toLowerCase();\n\t\t\t\ttext.push(\n\t\t\t\t\t<div className=\"tooltip-info\" key={key}><span className=\"tooltip-key\">{attr}: </span>{info[key]} {attr === \"Footprint\"? decodeURI(\"m%C2%B2\"):\"\"}</div>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\tvar tooltipstyle = {};\n\n\t\tif (this.state.left){\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tleft: \"0\"\n\t\t\t}\n\t\t}else{\n\t\t\ttooltipstyle = {\n\t\t\t\ttop: \"0\",\n\t\t\t\tright: \"0\"\n\t\t\t}\n\t\t}\n\t\treturn(\n\t\t\t<div className=\"nollimap\">\n\t\t\t\t<svg version=\"1.1\" viewBox={`0 0 ${width} ${height}`} style = {{width: this.state.width}}>\n\t\t\t\t\t{content}\n\t\t\t\t</svg>\n\t\t\t\t<div className={this.state.tooltip? \"tooltip\":\"hide\"} style={tooltipstyle}>\n\t\t\t\t\t<div className=\"tooltip-title\">Details</div>\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default NaturalElements;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport '../scss/analysis.scss';\nimport NolliMap from \"./NolliMap\";\nimport TrafficMap from \"./TrafficMap\";\nimport VisibilityMap from \"./VisibilityMap2\";\nimport POIMap from \"./POIMap\";\nimport NaturalElements from \"./NaturalElements\";\nimport {distSq} from \"./helpers\";\n\nclass D3Layers extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: 0,\n\t\t\twidth: 1000,\n\t\t\theight: 0,\n\t\t\tnodes: {},\n\t\t\tways: {},\n\t\t\trelations: {},\n\t\t\thumans: [[500,250]],\n\t\t\tarcs:[0],\n\t\t\tregions:[\"\"],\n\t\t\toptions : {\n\t\t\t\"POI Map\": \"Short Links\",\n\t\t\t\"Nolli Map\": \"None\",\n\t\t\t\"Visibility\": \"Both\",\n\t\t\t\"Traffic\": \"Both\",\n\t\t\t\"Natural Elements\": \"\",\n\t\t\t},\n\t\t}\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.updateStates();\n\t}\n\tcomponentDidUpdate(prevProps) {\n\t\tif(this.props.rawdata !== prevProps.rawdata){\n\t\t\tthis.resetLoading();\n\t\t\tthis.updateStates();\n\t\t}\n\t}\n\n\tgetDistance = (lat1, lon1, lat2, lon2) => {\n\t  \tvar R = 6371e3; // metres\n\t\tvar φ1 = lat1* Math.PI / 180;\n\t\tvar φ2 = lat2* Math.PI / 180;\n\t\tvar Δφ = (lat2-lat1)* Math.PI / 180;\n\t\tvar Δλ = (lon2-lon1)* Math.PI / 180;\n\n\t\tvar a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n\t\t        Math.cos(φ1) * Math.cos(φ2) *\n\t\t        Math.sin(Δλ/2) * Math.sin(Δλ/2);\n\t\tvar c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n\n\t\treturn R * c;\n\t}\n\n\tgetDirDistance = (lat1, lon1, lat2, lon2) => {\n\t\tif (lat2 <= lat1 && lon2 >= lon1) {\n\t\t\treturn this.getDistance(lat1, lon1, lat2, lon2);\n\t\t}else{\n\t\t\treturn -this.getDistance(lat1, lon1, lat2, lon2);\n\t\t}\n\t}\n\t\n\tgetBoundArea = (lat1, lat2, lon1, lon2) => {\n\t\treturn this.getDistance(lat1, lon1, lat1, lon2) * this.getDistance(lat1, lon1, lat2, lon1)\n\t}\n\n\tcheckSingle = (data) => {\n\t\tif (Array.isArray(data)){\n\t\t\treturn data;\n\t\t}else if(data){\n\t\t\treturn [data];\n\t\t}else{\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tgetWayPoints = (data) => {\n\t\tvar pts = '';\n\t\tdata.forEach((node) =>{\n\t\t\tpts += `${node.x},${node.y} `\n\t    })\n\t    return pts;\n\t}\n\n\tmapPix = (x, a, b, c, d) => {\n\t\treturn c + (x-a) * (d-c) / (b-a)\n\t}\n\n\tgetArea(array) {\n\t    var x = array;\n\t    var a = 0;\n\t    if (x.length < 3) return 0;\n\t    for (var i = 0; i < (x.length-1); i += 1) {\n\t        a += x[i][0] * x[i+1][1] - x[i+1][0] * x[i][1];\n\t    }\n\t    return Math.abs(a * 1.0 / 2);\n\t}\n\n\taddLoading = (value) => {\n\t\tthis.setState({\n\t\t\tloading: this.state.loading + value\n\t\t})\n\t}\n\n\tresetLoading = () => {\n\t\tthis.setState({\n\t\t\tloading: 0\n\t\t})\n\t}\n\n\tupdateStates = () => {\n\t\t\tconst {nlat, slat, wlng, elng, rawdata} = this.props;\n\t\t\tconst width = this.state.width\n\t\t\tconst ratio = width/this.getDistance(nlat, wlng, nlat, elng);\n\t\t\tconst height = this.getDistance(nlat, wlng, slat, wlng)*ratio;\n\t\t\tvar nodes = {};\n\t\t\tvar ways = {};\n\t\t\tvar relations = {};\n\n\t\t\tif (rawdata){\n\t\t\t\tvar convert = require('xml-js');\n\t\t\t\tvar result = convert.xml2js(rawdata, {compact: true, spaces: 4});\n\n\t\t\t\tvar osmNode = this.checkSingle(result.osm.node);\n\t\t\t\tvar osmWay = this.checkSingle(result.osm.way);\n\t\t\t\tvar osmRelation = this.checkSingle(result.osm.relation);\n\t\t\t\t\n\t\t\t\tosmNode.forEach((element) => {\n\t\t\t\t\tvar id = element._attributes.id;\n\t\t\t\t\tvar nodeTag = this.checkSingle(element.tag);\n\n\t\t\t\t\tnodes[id] = {element: element};\n\t\t\t\t\tnodes[id].x = this.mapPix(element._attributes.lon, wlng, elng, 0, width);\n\t\t\t\t\tnodes[id].y = this.mapPix(element._attributes.lat, nlat, slat, 0, height);\n\t\t\t\t\tnodes[id].tag = {};\n\t\t\t\t\tnodeTag.forEach((tag) => {\n\t\t\t\t\t\tnodes[id].tag[tag._attributes.k] = tag._attributes.v\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tosmWay.forEach((element) => {\n\t\t\t\t\tvar id = element._attributes.id;\n\t\t\t\t\tvar wayNd = this.checkSingle(element.nd);\n\t\t\t\t\tvar wayTag = this.checkSingle(element.tag);\n\n\t\t\t\t\tways[id] = {element: element};\n\t\t\t\t\tways[id].children = [];\n\t\t\t\t\tways[id].points = []\n\t\t\t\t\tways[id].tag = {};\n\t\t\t\t\twayNd.forEach((nd) => {\n\t\t\t\t\t\tways[id].children.push(nodes[nd._attributes.ref]);\n\t\t\t\t\t\tways[id].points.push([nodes[nd._attributes.ref].x, nodes[nd._attributes.ref].y]);\n\t\t\t\t\t});\n\t\t\t\t\twayTag.forEach((tag) => {\n\t\t\t\t\t\tways[id].tag[tag._attributes.k] = tag._attributes.v;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (ways[id].tag.building){\n\t\t\t\t\t\tvar area = \tthis.getArea(ways[id].points) / ratio / ratio;\n\t\t\t\t\t\tways[id].footprint = area;\n\t\t\t\t\t\tways[id].tag.footprint = area.toFixed(2)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tosmRelation.forEach((element) => {\n\t\t\t\t\tvar id = element._attributes.id;\n\t\t\t\t\tvar relationMember = this.checkSingle(element.member);\n\t\t\t\t\tvar relationTag = this.checkSingle(element.tag);\n\n\t\t\t\t\trelations[id] = {element: element};\n\t\t\t\t\trelations[id].members = []\n\t\t\t\t\trelations[id].tag = {};\n\t\t\t\t\trelationMember.forEach((member) => {\n\t\t\t\t\t\tif (member._attributes.type === 'way' && ways[member._attributes.ref]){\n\t\t\t\t\t\t\trelations[id].members.push({type: 'way', value: ways[member._attributes.ref].points, role: member._attributes.role});\n\t\t\t\t\t\t}else if (member._attributes.type === 'node' && nodes[member._attributes.ref]){\n\t\t\t\t\t\t\trelations[id].members.push({type: 'node', value: [nodes[member._attributes.ref].x, nodes[member._attributes.ref].y], role: member._attributes.role});\n\t\t\t\t\t\t}else if (member._attributes.type === 'relation' && relations[member._attributes.ref]){\n\t\t\t\t\t\t\trelations[id].members.push({type:'relation', value: relations[member._attributes.ref].members, role: member._attributes.role});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\trelationTag.forEach((tag) => {\n\t\t\t\t\t\trelations[id].tag[tag._attributes.k] = tag._attributes.v;\n\t\t\t\t\t});\n\t    \t\t\tif (relations[id].tag.building || relations[id].tag[\"buidling:part\"]){\n\t    \t\t\t\tvar area = 0;\n\t\t\t\t\t\trelations[id].members.forEach((member) => {\n\t\t\t\t\t\t\tif (member.role === \"outer\"){\n\t\t\t\t\t\t\t\tarea += this.getArea(member.value);\n\t\t\t\t\t\t\t}else if (member.role === \"outer\"){\n\t\t\t\t\t\t\t\tarea -= this.getArea(member.value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tarea = area / ratio / ratio;\n\t\t\t\t\t\trelations[id].footprint = area;\t\t\t\t\t\t\n\t\t\t\t\t\trelations[id].tag.footprint = area.toFixed(2);\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.addLoading(100);\n\t\t\t}\n\n\t\t\tvar selected = [];\n\t\t\tvar shortLinks = [];\n\t\t\tvar longLinks = []\n\t\t\tvar except = [\"waste_basket\", \"waste_disposal\", \"waste_transfer_station\", \"recycling\"]\n\n\t    \tfor (var id in nodes) {\n\t    \t\tif (nodes[id].tag[\"amenity\"] != null && except.indexOf(nodes[id].tag[\"amenity\"]) === -1){\n\t    \t\t\tnodes[id].longLink = 0;\n\t    \t\t\tnodes[id].shortLink = 0;\n\t\t\t\t\tselected.push(nodes[id]);\n\t\t\t\t}\n\t    \t};\n\n\t    \tfor (var i=0; i<selected.length; i++) {\n\t    \t\tfor (var j = i+1; j<selected.length; j++){\n\t    \t\t\tvar linkLengh = Math.sqrt(distSq(selected[i].x, selected[i].y, selected[j].x, selected[j].y))/ratio;\n\t\t\t\t\tif( linkLengh <= 150){\n\t\t\t\t\t\tselected[i].longLink ++;\n\t\t\t\t\t\tselected[j].longLink ++;\n\t\t\t\t\t\tlongLinks.push({\n\t\t\t\t\t\t\tx1:selected[i].x, \n\t\t\t\t\t\t\ty1:selected[i].y, \n\t\t\t\t\t\t\tx2:selected[j].x, \n\t\t\t\t\t\t\ty2:selected[j].y\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(linkLengh <= 100){\n\t\t\t\t\t\t\tselected[i].shortLink ++;\n\t\t\t\t\t\t\tselected[j].shortLink ++;\n\t\t\t\t\t\t\tshortLinks.push({\n\t\t\t\t\t\t\t\tx1:selected[i].x, \n\t\t\t\t\t\t\t\ty1:selected[i].y, \n\t\t\t\t\t\t\t\tx2:selected[j].x, \n\t\t\t\t\t\t\t\ty2:selected[j].y\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t    \t\t}\n\t    \t}\n\n\t\n\t\t\tthis.pixratio = this.container.offsetWidth/width;\n\t\t\tthis.ratio = ratio;\n\t\t\tthis.selected = selected;\n\t\t\tthis.longLinks = longLinks;\n\t\t\tthis.shortLinks = shortLinks;\n\n\t\t\tthis.setState({\n\t\t\t\theight: height,\n\t\t\t\tnodes: nodes,\n\t\t\t\tways: ways,\n\t\t\t\trelations: relations,\n\t\t\t\thumans: [[Math.random() * width * this.pixratio, Math.random() * height * this.pixratio]],\n\t\t\t});\n\n\n\t\t\tconsole.log(nodes);\n\t\t\tconsole.log(ways);\n\t\t\tconsole.log(relations);\n\t\t\tconsole.log(ratio);\n\n\t}\n\n\tgetOptions = () => {\n\t\tvar data = require(\"./map-options.json\")[this.props.selected];\n\t\tvar selectedOption = this.state.options[this.props.selected];\n\t\tvar content = [];\n\t\tif (data) {\n\t\t\tcontent.push(\n\t\t\t\t<div className=\"options-title\" key=\"title\">\n\t\t\t\t\t{data.title}\n\t\t\t\t</div>\n\t\t\t)\n\t\t\tdata.options.forEach((option) => {\n\t\t\t\tcontent.push(\n\t\t\t\t\t<div className={option === selectedOption? \"options-item selected\" : \"options-item\"} onClick={()=>{this.setOption(option)}} key={option}>\n\t\t\t\t\t\t{option}\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t\tif (this.props.selected === \"Visibility\"){\n\t\t\tcontent.push(\n\t\t\t\t<div className=\"options-title\" key=\"title\">\n\t\t\t\t\tYou can add up to 5 viewing points:\n\t\t\t\t</div>\n\t\t\t)\n\t\t\tcontent.push(\n\t\t\t\t<button className=\"options-button\" onClick={this.addHuman} key=\"add\" disabled={this.state.arcs.length >= 5}>\n\t\t\t\t\tAdd a Point\n\t\t\t\t</button>\n\t\t\t)\n\t\t\tcontent.push(\n\t\t\t\t<button className=\"options-button\" onClick={this.deleteHuman} key=\"delete\" disabled={this.state.arcs.length <= 1}>\n\t\t\t\t\tDelete a Point\n\t\t\t\t</button>\n\t\t\t)\n\t\t}\n\t\treturn content;\n\t}\n\n\tsetOption = (option) => {\n\t\tvar newoptions = this.state.options;\n\t\tnewoptions[this.props.selected] = option;\n\t\tthis.setState({options:newoptions});\n\t}\n\n\tsetPos = (num, position) => {\n\t\tvar newhumans = this.state.humans;\n\t\tnewhumans[num] = position\n\t\tthis.setState({humans: newhumans});\n\t}\n\n\tsetArc = (num, value) => {\n\t\tvar newarcs = this.state.arcs;\n\t\tnewarcs[num] = value\n\t\tthis.setState({arc: newarcs});\n\t}\n\n\tsetRegion = (num, value) => {\n\t\tvar newregions = this.state.regions\n\t\tnewregions[num] = value\n\t\tthis.setState({regions: newregions});\n\t}\n\n\tsetArcs = (value) => {\n\t\tthis.setState({arc: value});\n\t}\n\n\tsetRegions = (value) => {\n\t\tthis.setState({regions: value});\n\t}\n\n\taddHuman = () => {\n\t\tvar newhumans = this.state.humans;\n\t\tvar newarcs = this.state.arcs;\n\t\tvar newregions = this.state.regions;\n\t\tnewhumans.push([Math.random() * this.state.width * this.pixratio, Math.random() * this.state.height * this.pixratio]);\n\t\tnewarcs.push(0);\n\t\tnewregions.push(\"\");\n\t\tthis.setState({\n\t\t\thumans: newhumans,\n\t\t\tarcs: newarcs,\n\t\t\tregions: newregions,\n\t\t});\n\t}\n\n\tdeleteHuman = () => {\n\t\tvar newhumans = this.state.humans;\n\t\tvar newarcs = this.state.arcs;\n\t\tvar newregions = this.state.regions;\n\t\tnewhumans.pop();\n\t\tnewarcs.pop();\n\t\tnewregions.pop();\n\t\tthis.setState({\n\t\t\thumans: newhumans,\n\t\t\tarcs: newarcs,\n\t\t\tregions: newregions,\n\t\t});\n\t}\n\n\trender() {\n\t\tvar optionbar = this.getOptions();\n\t\tvar {ways, nodes, relations, width, height} = this.state;\n\t\tvar maps = {};\n\t\tvar ovl = [];\n\n\t\tmaps[\"POI Map\"] = \n\t\t\t<POIMap\n\t\t\t\tnodes = {nodes}\n\t\t\t\tways = {ways}\n\t\t\t\trelations = {relations}\n\t\t\t\twidth = {width}\n\t\t\t\theight = {height}\n\t\t\t\tgetWayPoints = {this.getWayPoints}\n\t\t\t\taddLoading = {this.addLoading}\n\t\t\t\tnlat = {this.props.nlat}\n\t\t\t\tslat = {this.props.slat}\n\t\t\t\twlng = {this.props.wlng}\n\t\t\t\telng = {this.props.elng}\n\t\t\t\toption = {this.state.options[\"POI Map\"]}\n\t\t\t\tkey = \"POI Map\"\n\t\t\t\tlengthratio = {this.ratio}\n\t\t\t\tselected = {this.selected}\n\t\t\t\tlongLinks = {this.longLinks}\n\t\t\t\tshortLinks = {this.shortLinks}\n\t\t\t/>;\n\n\t\tmaps[\"Nolli Map\"] = \n\t\t\t<NolliMap\n\t\t\t\tnodes = {nodes}\n\t\t\t\tways = {ways}\n\t\t\t\trelations = {relations}\n\t\t\t\twidth = {width}\n\t\t\t\theight = {height}\n\t\t\t\tgetWayPoints = {this.getWayPoints}\n\t\t\t\taddLoading = {this.addLoading}\n\t\t\t\tnlat = {this.props.nlat}\n\t\t\t\tslat = {this.props.slat}\n\t\t\t\twlng = {this.props.wlng}\n\t\t\t\telng = {this.props.elng}\n\t\t\t\toption = {this.state.options[\"Nolli Map\"]}\n\t\t\t\tkey = \"Nolli Map\"\n\t\t\t/>;\n\n\t\tmaps[\"Visibility\"] = \n\t\t\t<VisibilityMap\n\t\t\t\tnodes = {nodes}\n\t\t\t\tways = {ways}\n\t\t\t\trelations = {relations}\n\t\t\t\twidth = {width}\n\t\t\t\theight = {height}\n\t\t\t\thumans = {this.state.humans}\n\t\t\t\tarcs = {this.state.arcs}\n\t\t\t\tregions = {this.state.regions}\n\t\t\t\tsetPos = {this.setPos}\n\t\t\t\tsetArc = {this.setArc}\n\t\t\t\tsetRegion = {this.setRegion}\n\t\t\t\tsetArcs = {this.setArcs}\n\t\t\t\tsetRegions = {this.setRegions}\n\t\t\t\taddLoading = {this.addLoading}\n\t\t\t\tnlat = {this.props.nlat}\n\t\t\t\tslat = {this.props.slat}\n\t\t\t\twlng = {this.props.wlng}\n\t\t\t\telng = {this.props.elng}\n\t\t\t\tkey = \"Visibility\"\n\t\t\t\toption = {this.state.options[\"Traffic\"]}\n\t\t\t\tratio = {this.pixratio}\n\t\t\t\tlengthratio = {this.ratio}\n\t\t\t/>;\n\n\t\tmaps[\"Traffic\"] = \n\t\t\t<TrafficMap\n\t\t\t\tnodes = {nodes}\n\t\t\t\tways = {ways}\n\t\t\t\trelations = {relations}\n\t\t\t\twidth = {width}\n\t\t\t\theight = {height}\n\t\t\t\tgetWayPoints = {this.getWayPoints}\n\t\t\t\taddLoading = {this.addLoading}\n\t\t\t\tnlat = {this.props.nlat}\n\t\t\t\tslat = {this.props.slat}\n\t\t\t\twlng = {this.props.wlng}\n\t\t\t\telng = {this.props.elng}\n\t\t\t\tkey = \"Traffic\"\n\t\t\t\toption = {this.state.options[\"Traffic\"]}\n\t\t\t\tlengthratio = {this.ratio}\n\t\t\t/>;\n\n\t\tmaps[\"Natural Elements\"] = \n\t\t\t<NaturalElements\n\t\t\t\tnodes = {nodes}\n\t\t\t\tways = {ways}\n\t\t\t\trelations = {relations}\n\t\t\t\twidth = {width}\n\t\t\t\theight = {height}\n\t\t\t\tgetWayPoints = {this.getWayPoints}\n\t\t\t\taddLoading = {this.addLoading}\n\t\t\t\tnlat = {this.props.nlat}\n\t\t\t\tslat = {this.props.slat}\n\t\t\t\twlng = {this.props.wlng}\n\t\t\t\telng = {this.props.elng}\n\t\t\t\toption = {this.state.options[\"Natural Elements\"]}\n\t\t\t\tkey = \"Natural Elements\"\n\t\t\t/>;\n\n\t\tfor (var key in this.props.added){\n\t\t\tif (this.props.added[key]){\n\t\t\t\tovl.unshift(maps[key]);\n\t\t\t}\n\t\t}\n\n\t\treturn(\n\t\t\t<div className=\"maps-wrapper\" ref={el => (this.container = el)}>\n\t\t\t\t<div className=\"options\">\n\t\t\t\t\t{optionbar}\n\t\t\t\t</div>\n\t\t\t\t<svg version=\"1.1\" viewBox={`0 0 ${this.state.width} ${this.state.height}`} style = {{width: \"100%\"}}/>\n\n\t\t\t\t<div className={this.state.loading === 100?\"hide\":\"loading\"}>Loading... </div>\n\t\t\t\t\n\t\t\t\t{this.props.selected === \"Overlay\"?\n\t\t\t\t\tovl\n\t\t\t\t\t:\n\t\t\t\t\tmaps[this.props.selected]\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default D3Layers;","import React from \"react\";\nimport {withRouter} from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport ReactDragList from 'react-drag-list';\nimport '../scss/sidebar.scss'\n\nclass Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    \tmenu: this.props.layers,\n    \tadded: this.props.added,\n    \tselected: this.props.selected,\n    }\n  };\n\n  changeMap = (key) => {\n  \tthis.props.changeMap(key);\n  }\n\n  addOverlay = (e, title) => {\n  \te.stopPropagation();\n  \tthis.props.addOverlay(title);\n  }\n\n  removeOverlay = (e, title) => {\n  \te.stopPropagation();\n  \tthis.props.removeOverlay(title);\n  }\n\n  handleUpdate = (evt, updated) => {\n    console.log(evt); // tslint:disable-line\n    console.log(updated);\n  } // tslint:disable-line\n\n  renderMenu = () => {\n    const {layers, added, selected} = this.props;\n\n    let content = [];\n    layers.forEach((record, index) => {\n      content.push(\n\t\t      <div className={record === selected?\"menu-item selected\":\"menu-item\"} key={`${record}`} onClick={() => this.changeMap(record)}>\n\n\t\t      \t<div className = \"menu-subtitle\">\n\t\t        \t{record}\n\t\t        </div>\n\t\t        {added[record]?\n\t\t\t\t    <svg version=\"1.1\" viewBox=\"0 0 80 80\" className={record === selected?\"icon selected\":\"icon\"} onClick={(e) => this.removeOverlay(e, record)}>\n\t\t\t\t\t\t<path id=\"XMLID_6_\" d=\"M74,45H6c-2.8,0-5-2.2-5-5s2.2-5,5-5h68c2.8,0,5,2.2,5,5S76.8,45,74,45z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t:\n\t\t\t        <svg version=\"1.1\" viewBox=\"0 0 80 80\" className={record === selected?\"icon selected\":\"icon\"} onClick={(e) => this.addOverlay(e, record)}>\n\t\t\t\t\t\t<path d=\"M74,35H45V6c0-2.8-2.2-5-5-5s-5,2.2-5,5v29H6c-2.8,0-5,2.2-5,5c0,2.8,2.2,5,5,5h29v29c0,2.8,2.2,5,5,5s5-2.2,5-5V45h29\n\t\t\t\t\t\t\tc2.8,0,5-2.2,5-5C79,37.2,76.8,35,74,35z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t}\n\t\t\t\t<div className=\"clearfix\"/>\n\t\t      </div>\n      );\n    });\n    return content;\n  }\n\n  render() {\n\tvar content = this.renderMenu();\n\tconsole.log(this.props.longitude);\n    return (\n      <div className=\"menu\">\n\t\t<Link to={`${process.env.PUBLIC_URL}/${this.props.longitude}/${this.props.latitude}`} className=\"back\">\n\t\t\t<svg version=\"1.1\" viewBox=\"0 0 80 80\" className=\"back-icon\">\n\t\t\t\t<path id=\"XMLID_7_\" d=\"M74,35H18.1l23.5-23.5c2-2,2-5.1,0-7.1c-2-2-5.1-2-7.1,0l-32,32c0,0,0,0,0,0C2.2,36.7,2,37,1.8,37.2\n\t\t\t\tc-0.1,0.1-0.1,0.3-0.2,0.4c-0.1,0.2-0.2,0.3-0.2,0.5c-0.1,0.2-0.1,0.3-0.2,0.5c0,0.1-0.1,0.3-0.1,0.4c-0.1,0.6-0.1,1.3,0,2\n\t\t\t\tc0,0.1,0.1,0.3,0.1,0.4c0.1,0.2,0.1,0.3,0.2,0.5c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.1,0.1,0.3,0.2,0.4C2,43,2.2,43.3,2.5,43.5l32,32\n\t\t\t\tc1,1,2.3,1.5,3.5,1.5s2.6-0.5,3.5-1.5c2-2,2-5.1,0-7.1L18.1,45H74c2.8,0,5-2.2,5-5S76.8,35,74,35z\"/>\n\t\t\t</svg>\n\t\t\t<div className = \"title\">Change Location</div>\n\t\t</Link>\n\t\t<div className=\"clearfix\"/>\n\t\t{content}\n        <div className={this.props.selected === \"Overlay\"?\"menu-item selected\":\"menu-item\"} onClick={() => this.changeMap(\"Overlay\")}>\n\t      \t<div className = \"menu-title\">\n\t        \tOverlay\n\t        </div>\n\t    </div>\n\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Sidebar);","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport D3Layers from \"./D3Layers\";\nimport Sidebar from \"./Sidebar\";\nimport '../scss/maps.scss';\n\nclass Maps extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\traw: null,\n\t\t\tlayers:[\"POI Map\", \"Nolli Map\", \"Visibility\", \"Traffic\", \"Natural Elements\"],\n\t\t\tadded:{\n\t\t\t\t\"POI Map\": true,\n\t\t\t\t\"Nolli Map\": true,\n\t\t\t\t\"Visibility\": false,\n\t\t\t\t\"Traffic\": false,\n\t\t\t\t\"Natural Elements\":false\n\t\t\t},\n\t\t\tselected:\"Nolli Map\",\n\t\t}\n\t\tthis.bounds = this.props.match.params;\n\t}\n\n\tcomponentDidMount() { \n\t    axios.get(`https://api.openstreetmap.org/api/0.6/map?bbox=${this.bounds.wlng},${this.bounds.slat},${this.bounds.elng},${this.bounds.nlat}`)\n\t      \t.then(res => {\n\t        \tif(res.data){\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\traw: res.data,\n\t\t\t\t\t})\n\t        \t};\n\t      \t});\n\n\t}\n\n\tchangeMap = (key) => {\n\t\tthis.setState({\n\t\t\tselected: key\n\t\t})\n\t}\n\n\taddOverlay = (title) => {\n\t\tconst newlist = this.state.added;\n\t\tnewlist[title] = true;\n\t\tthis.setState({\n\t\t  added: newlist,\n\t\t})\t\n\t}\n\n\tremoveOverlay = (title) => {\n\t\tconst newlist = this.state.added;\n\t\tnewlist[title] = false;\n\t\tthis.setState({\n\t\t  added: newlist,\n\t\t})\t\n\t}\t\n\t\n\trender() {\t\n\t\tvar longitude = (parseFloat(this.bounds.wlng) + parseFloat(this.bounds.elng))/2;\n\t\tvar latitude = (parseFloat(this.bounds.nlat) + parseFloat(this.bounds.slat))/2;\n\t\treturn (\n\t\t\t<div className=\"maps\">\n\t\t\t\t<Sidebar\n\t\t\t\t\tlayers = {this.state.layers}\n\t\t\t\t\tadded = {this.state.added}\n\t\t\t\t\tselected = {this.state.selected}\n\t\t\t\t\tchangeMap = {this.changeMap}\n\t\t\t\t\taddOverlay = {this.addOverlay}\n\t\t\t\t\tremoveOverlay = {this.removeOverlay}\n\t\t\t\t\tlongitude = {longitude}\n\t\t\t\t\tlatitude = {latitude}\n\t\t\t\t/>\n\t\t\t\t<div className=\"map-display\">\n\t\t\t\t\t<D3Layers\n\t\t\t\t\t\tlayers = {this.state.layers}\n\t\t\t\t\t\tadded = {this.state.added}\n\t\t\t\t\t\tselected = {this.state.selected}\n\t\t\t\t\t\t{...this.props.match.params}\n\t\t\t\t\t\trawdata = {this.state.raw}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"clearfix\"/>\n\t\t\t\t<div className=\"raw\">\n\t\t\t\t\t<div>{`n: ${this.bounds.nlat} s: ${this.bounds.slat} w: ${this.bounds.wlng} e: ${this.bounds.elng}`}</div>\n\t\t\t\t\t<div>API address: {`https://api.openstreetmap.org/api/0.6/map?bbox=${this.bounds.wlng},${this.bounds.slat},${this.bounds.elng},${this.bounds.nlat}`}</div>\n\t\t\t\t</div>\n\t\t    </div>\n\t\t);\n\t}\n}\n\nexport default Maps;\n","import React from 'react';\nimport { withRouter } from \"react-router\";\n\nclass ScrollToTop extends React.Component {\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default withRouter(ScrollToTop);","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Sidebar from \"./Sidebar\";\nimport '../scss/maps.scss'\n\nclass MapsDemo extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsidebar:[\"Original\", \"Nolli Map\", \"Program\", \"Traffic\", \"POI Clustering\", \"Overlay\"],\n\t\t\toverlay:[\n\t\t\t\t{\n\t\t\t\t\tname: \"Nolli Map\",\n\t\t\t\t\topacity:100\n\t\t\t\t}\n\t\t\t],\n\t\t\tshuffled:[\n\t\t\t\t{\n\t\t\t\t\tname: \"Nolli Map\",\n\t\t\t\t\topacity:100\n\t\t\t\t}\n\t\t\t],\n\t\t\tselected:1\n\t\t}\n\t}\n\n\tcomponentDidMount() { \n\t}\n\n\tchangeMap = (key) => {\n\t\tthis.setState({\n\t\t\tselected: key\n\t\t})\n\t}\n\n\taddOverlay = (title) => {\n\t\tthis.setState({\n\t\t  overlay: [{name:title, opacity:100},...this.state.overlay],\n\t\t})\t\n\t}\n\n\tremoveOverlay = (title) => {\n\t\tconst index = this.state.overlay.indexOf(title);\n\t\tconst newlayers = this.state.overlay;\n\t\tnewlayers.splice(index, 1);\n\t\tthis.setState({\n\t\t  overlay: newlayers,\n\t\t})\t\n\t}\n\n\tsetOverlay = (data) => {\n\t\tconsole.log(data);\n\t\tthis.setState({\n\t\t\toverlay:data\n\t\t})\n\t}\n\n\tgetShuffled = (data) => {\n\t\tconsole.log(data);\n\t\tthis.setState({\n\t\t\tshuffled:data\n\t\t})\n\t}\n\n\tsetOpacity = (record, value) => {\n\t\tconst index = this.state.overlay.indexOf(record);\n\t\tconsole.log(index, value);\n\t\tconst newopacity = this.state.overlay;\n\t\tnewopacity[index] = {name: record.name, opacity:parseInt(value)};\n\t\tthis.setState({\n\t\t\toverlay: newopacity\n\t\t})\n\t}\n\t\n\trenderLayers = () => {\n\t\tconst layers = this.state.overlay;\n\t\tlet content = [];\n\t\tfor (let key in layers){\n\t\t\tcontent.push(\n\t\t\t\t<img key={layers[key].name} style={{position:\"absolute\", maxWidth: \"100%\", opacity:layers[key].opacity/100}} src={`${process.env.PUBLIC_URL}/image/demo/${layers[key].name}.png`} alt={`${layers[key].name}`} />\n\t\t\t);\n\t\t}\n\t\tconsole.log(content);\n\t\treturn content.reverse();\n\t}\n\n\trender() {\n\t\tconst selected = this.state.sidebar[this.state.selected];\n\t\treturn (\n\t\t\t<div className=\"maps\">\n\t\t\t\t<div className=\"functions\">\n\t\t\t\t\t<Link to={`${process.env.PUBLIC_URL}/demo`} className=\"back\">\n\t\t\t\t        <svg version=\"1.1\" viewBox=\"0 0 80 80\" className=\"back-icon\">\n\t\t\t\t\t\t\t<path id=\"XMLID_7_\" d=\"M74,35H18.1l23.5-23.5c2-2,2-5.1,0-7.1c-2-2-5.1-2-7.1,0l-32,32c0,0,0,0,0,0C2.2,36.7,2,37,1.8,37.2\n\t\t\t\tc-0.1,0.1-0.1,0.3-0.2,0.4c-0.1,0.2-0.2,0.3-0.2,0.5c-0.1,0.2-0.1,0.3-0.2,0.5c0,0.1-0.1,0.3-0.1,0.4c-0.1,0.6-0.1,1.3,0,2\n\t\t\t\tc0,0.1,0.1,0.3,0.1,0.4c0.1,0.2,0.1,0.3,0.2,0.5c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.1,0.1,0.3,0.2,0.4C2,43,2.2,43.3,2.5,43.5l32,32\n\t\t\t\tc1,1,2.3,1.5,3.5,1.5s2.6-0.5,3.5-1.5c2-2,2-5.1,0-7.1L18.1,45H74c2.8,0,5-2.2,5-5S76.8,35,74,35z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<div className=\"title\">Change Location</div>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<div className=\"button export-button\">Export This Mapping</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"clearfix\"/>\n\t\t\t\t<Sidebar\n\t\t\t\t\t{...this.state}\n\t\t\t\t\tchangeMap = {this.changeMap}\n\t\t\t\t\taddOverlay = {this.addOverlay}\n\t\t\t\t\tremoveOverlay = {this.removeOverlay}\n\t\t\t\t\tsetOverlay = {this.setOverlay}\n\t\t\t\t\tsetOpacity = {this.setOpacity}\n\t\t\t\t\tgetShuffled = {this.getShuffled}\n\t\t\t\t/>\n\t\t\t\t<div className=\"map-display\">\n\t\t\t\t\t{selected != \"Overlay\"?\n\t\t\t\t\t\t<img style={{position:\"absolute\", maxWidth: \"100%\"}}src={`${process.env.PUBLIC_URL}/image/demo/${selected}.png`} alt=\"selected\" />\n\t\t\t\t\t:\n\t\t\t\t\t\tthis.renderLayers()\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"clearfix\"/>\n\t\t    </div>\n\t\t);\n\t}\n}\n\nexport default MapsDemo;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass Footer extends React.Component {\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t}\n\t}\n\n\tcomponentDidMount() { \n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"footer\">\n\t\t\t\t<div>Infomap v0.1.0 beta &copy; 2018 Wu Chenmu</div>\n\t\t    </div>\n\t\t);\n\t}\n}\n\nexport default Footer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nimport Header from './modules/Header';\nimport SelectArea from './modules/SelectArea';\nimport Help from './modules/Help';\nimport About from './modules/About';\nimport Maps from './modules/Maps';\nimport MapsDemo from './modules/MapsDemo';\nimport ScrollToTop from './modules/ScrollToTop';\nimport Footer from './modules/Footer';\nimport './scss/base.scss';\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\n\nReactDOM.render((\n<Router>\n\t<ScrollToTop>\n\t\t<div className = 'content'>\n\t\t\t<Header/>\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/'} component = {SelectArea} />\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/:lng/:lat'} component = {SelectArea} />\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/help'} component = {Help} />\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/about'} component = {About} />\n\t\t\t<Route exact path = {process.env.PUBLIC_URL + '/selected/:wlng/:slat/:elng/:nlat'} component = {Maps}/>\n\t\t\t<Footer/>\n\t\t</div>\n\t</ScrollToTop>\n</Router>\n), document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}